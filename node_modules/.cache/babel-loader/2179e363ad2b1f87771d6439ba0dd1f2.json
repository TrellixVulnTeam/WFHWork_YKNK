{"ast":null,"code":"var _jsxFileName = \"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\src\\\\pages\\\\TradieDirectory\\\\TradieRequestModel.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // import * as Actions from '../../redux/auth/action';\n\nimport { useDispatch } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { ReactComponent as Close } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/icon-cancelpopup.svg\";\nimport DatePicker from 'react-date-picker';\nimport TimePicker from 'react-time-picker';\nimport moment from 'moment';\nimport * as Actions from '../../redux/directory/action';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TradieRequest = _ref => {\n  _s();\n\n  let {\n    tradiesIds,\n    setModelOpenTradieRequest,\n    modelOpenTradieRequest\n  } = _ref;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    user_to_tradie_request\n  } = Actions;\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [selectTime, setSelectTime] = useState(false);\n  const [chooseTimeDate, setChooseTimeDate] = useState(false);\n  const [residential, setResidential] = useState(false);\n  const [commercial, setCommercial] = useState(false);\n  const [tradie_type, setTradie_type] = useState([]);\n  const [selectService_type, setSelectService_type] = useState({\n    service_type: \"\",\n    time: \"\",\n    date: \"\"\n  });\n  const [date, setDate] = useState(new Date());\n  const [time, setTime] = useState('10:00');\n\n  const onSubmit = data => {\n    if (selectService_type.service_type === \"immediately\" && tradie_type.length !== 0) {\n      const tradieRequest = {\n        address: data.address,\n        city: \"Perth\",\n        country: \"Australia\",\n        date: selectService_type.date,\n        detail: data.detail,\n        latitude: \"-31.9505269\",\n        longitude: \"115.8604572\",\n        postcode: \"undefined\",\n        search: \"\",\n        search_type: \"\",\n        service_id: \"1\",\n        service_type: selectService_type.service_type,\n        state: \"WA\",\n        time: selectService_type.time,\n        title: data.title,\n        tradie_type: tradie_type.toString(),\n        tradie_id: tradiesIds.toString()\n      };\n      dispatch(user_to_tradie_request(tradieRequest));\n      history.push(\"/user-bookings\");\n    } else if (selectService_type.service_type === \"later\" && tradie_type.length !== 0) {\n      const tradieRequest = {\n        address: data.address,\n        city: \"Perth\",\n        country: \"Australia\",\n        date: moment(date).format(\"YYYY-MM-DD\"),\n        detail: data.detail,\n        latitude: \"-31.9505269\",\n        longitude: \"115.8604572\",\n        postcode: \"undefined\",\n        search: \"\",\n        search_type: \"\",\n        service_id: \"1\",\n        service_type: selectService_type.service_type,\n        state: \"WA\",\n        time: time,\n        title: data.title,\n        tradie_type: tradie_type.toString(),\n        tradie_id: tradiesIds.toString()\n      };\n      dispatch(user_to_tradie_request(tradieRequest));\n      history.push(\"/user-bookings\");\n    }\n  };\n\n  const handleSelectTime = timeOption => {\n    if (timeOption === \"immediately\") {\n      const currentDate = moment().format(\"YYYY-MM-DD\");\n      const currentTime = moment().format(\"hh:mm\");\n      setSelectTime(true);\n      setChooseTimeDate(false);\n      setSelectService_type({\n        service_type: timeOption,\n        date: currentDate,\n        time: currentTime\n      });\n    } else if (timeOption === \"later\") {\n      setSelectTime(false);\n      setChooseTimeDate(true);\n      setSelectService_type({\n        service_type: timeOption,\n        date: \"\",\n        time: \"\"\n      });\n    }\n  };\n\n  const handleTradieType = tradieType => {\n    if (tradieType === \"residential\" && residential === false) {\n      setResidential(true);\n      setTradie_type([...tradie_type, tradieType]);\n    } else if (tradieType === \"residential\" && residential === true) {\n      const data = tradie_type.filter(function (item) {\n        return item !== tradieType;\n      });\n      setTradie_type(data);\n      setResidential(false);\n    } else if (tradieType === \"commercial\" && commercial === false) {\n      setCommercial(true);\n      setTradie_type([...tradie_type, tradieType]);\n    } else if (tradieType === \"commercial\" && commercial === true) {\n      const data = tradie_type.filter(function (item) {\n        return item !== tradieType;\n      });\n      setTradie_type(data);\n      setCommercial(false);\n    }\n  };\n\n  if (modelOpenTradieRequest) {\n    document.getElementsByTagName(\"html\")[0].classList.add(\"Scroll_disable_onClick\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"user-info-modal popupTradieRequest\",\n      style: {\n        zIndex: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"popupTradieRequest__form\",\n        onSubmit: handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"REQUEST TRADIE\", /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: e => {\n              setModelOpenTradieRequest(false);\n            },\n            className: \"Closesvg\",\n            children: /*#__PURE__*/_jsxDEV(Close, {\n              width: \"30px\",\n              height: \"30px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          style: {\n            marginBottom: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Job title\",\n            type: \"text\",\n            defaultValue: \"\",\n            ...register('title', {\n              required: {\n                value: true,\n                message: 'title is required'\n              },\n              minLength: {\n                value: 2,\n                message: 'min value > 3'\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), errors.title && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: errors.title.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          style: {\n            marginBottom: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Job Detail\",\n            type: \"text\",\n            defaultValue: \"\",\n            ...register('detail', {\n              required: {\n                value: true,\n                message: 'detail is required'\n              },\n              minLength: {\n                value: 2,\n                message: 'min value > 3'\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), errors.detail && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: errors.detail.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          style: {\n            marginBottom: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Job title\",\n            type: \"text\",\n            defaultValue: \"Perth WA, Australia\",\n            ...register('address', {\n              required: {\n                value: true,\n                message: 'address is required'\n              },\n              minLength: {\n                value: 2,\n                message: 'min value > 3'\n              }\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), errors.address && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'red'\n          },\n          children: errors.address.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 40\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupTradieRequest__btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              handleSelectTime(\"immediately\");\n            },\n            style: {\n              color: `${selectTime ? \"transparent\" : \"#666\"}`\n            },\n            children: \"Immediately\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              handleSelectTime(\"later\");\n            },\n            style: {\n              color: `${selectTime === false ? \"transparent\" : \"#666\"}`\n            },\n            children: \"Choose Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 21\n        }, this), chooseTimeDate && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupTradieRequest__dateTime\",\n          children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n            onChange: setDate,\n            value: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TimePicker, {\n            onChange: setTime,\n            value: time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select your tradie type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupTradieRequest__btns\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              handleTradieType(\"residential\");\n            },\n            style: {\n              color: `${residential ? \"transparent\" : \"#666\"}`\n            },\n            children: \"Residential\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              handleTradieType(\"commercial\");\n            },\n            style: {\n              color: `${commercial ? \"transparent\" : \"#666\"}`\n            },\n            children: \"Commercial\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          popupTradieRequest__save: true,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-primary\",\n            style: {\n              padding: \"20px\"\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TradieRequest, \"PqYm5n7iuv62LA4pzneAwS8iWkM=\", false, function () {\n  return [useDispatch, useHistory, useForm];\n});\n\n_c = TradieRequest;\nexport default TradieRequest;\n\nvar _c;\n\n$RefreshReg$(_c, \"TradieRequest\");","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/TradieDirectory/TradieRequestModel.js"],"names":["React","useState","useEffect","useDispatch","useForm","DatePicker","TimePicker","moment","Actions","useHistory","TradieRequest","tradiesIds","setModelOpenTradieRequest","modelOpenTradieRequest","dispatch","history","user_to_tradie_request","register","handleSubmit","formState","errors","selectTime","setSelectTime","chooseTimeDate","setChooseTimeDate","residential","setResidential","commercial","setCommercial","tradie_type","setTradie_type","selectService_type","setSelectService_type","service_type","time","date","setDate","Date","setTime","onSubmit","data","length","tradieRequest","address","city","country","detail","latitude","longitude","postcode","search","search_type","service_id","state","title","toString","tradie_id","push","format","handleSelectTime","timeOption","currentDate","currentTime","handleTradieType","tradieType","filter","item","document","getElementsByTagName","classList","add","zIndex","e","marginBottom","required","value","message","minLength","color","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\n// import * as Actions from '../../redux/auth/action';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { ReactComponent as Close } from '../../assets/icons/icon-cancelpopup.svg';\r\nimport DatePicker from 'react-date-picker';\r\nimport TimePicker from 'react-time-picker';\r\nimport moment from 'moment';\r\nimport * as Actions from '../../redux/directory/action';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst TradieRequest = ({ tradiesIds, setModelOpenTradieRequest, modelOpenTradieRequest }) => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory()\r\n    const { user_to_tradie_request } = Actions\r\n    const { register, handleSubmit, formState: { errors } } = useForm();\r\n    const [selectTime, setSelectTime] = useState(false);\r\n    const [chooseTimeDate, setChooseTimeDate] = useState(false);\r\n\r\n    const [residential, setResidential] = useState(false);\r\n    const [commercial, setCommercial] = useState(false);\r\n    const [tradie_type, setTradie_type] = useState([]);\r\n    const [selectService_type, setSelectService_type] = useState({\r\n        service_type: \"\",\r\n        time: \"\",\r\n        date: \"\"\r\n\r\n    });\r\n\r\n    const [date, setDate] = useState(new Date());\r\n    const [time, setTime] = useState('10:00');\r\n\r\n\r\n\r\n\r\n    const onSubmit = (data) => {\r\n        if (selectService_type.service_type === \"immediately\" && tradie_type.length !== 0) {\r\n\r\n            const tradieRequest = {\r\n                address: data.address,\r\n                city: \"Perth\",\r\n                country: \"Australia\",\r\n                date: selectService_type.date,\r\n                detail: data.detail,\r\n                latitude: \"-31.9505269\",\r\n                longitude: \"115.8604572\",\r\n                postcode: \"undefined\",\r\n                search: \"\",\r\n                search_type: \"\",\r\n                service_id: \"1\",\r\n                service_type: selectService_type.service_type,\r\n                state: \"WA\",\r\n                time: selectService_type.time,\r\n                title: data.title,\r\n                tradie_type: tradie_type.toString(),\r\n                tradie_id: tradiesIds.toString()\r\n            }\r\n\r\n\r\n            dispatch(user_to_tradie_request(tradieRequest));\r\n            history.push(\"/user-bookings\")\r\n\r\n        }\r\n\r\n        else if (selectService_type.service_type === \"later\" && tradie_type.length !== 0) {\r\n\r\n            const tradieRequest = {\r\n                address: data.address,\r\n                city: \"Perth\",\r\n                country: \"Australia\",\r\n                date: moment(date).format(\"YYYY-MM-DD\"),\r\n                detail: data.detail,\r\n                latitude: \"-31.9505269\",\r\n                longitude: \"115.8604572\",\r\n                postcode: \"undefined\",\r\n                search: \"\",\r\n                search_type: \"\",\r\n                service_id: \"1\",\r\n                service_type: selectService_type.service_type,\r\n                state: \"WA\",\r\n                time: time,\r\n                title: data.title,\r\n                tradie_type: tradie_type.toString(),\r\n                tradie_id: tradiesIds.toString()\r\n            }\r\n\r\n            dispatch(user_to_tradie_request(tradieRequest));\r\n            history.push(\"/user-bookings\")\r\n\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n    const handleSelectTime = (timeOption) => {\r\n        if (timeOption === \"immediately\") {\r\n            const currentDate = moment().format(\"YYYY-MM-DD\");\r\n            const currentTime = moment().format(\"hh:mm\");\r\n\r\n            setSelectTime(true);\r\n            setChooseTimeDate(false);\r\n            setSelectService_type({ service_type: timeOption, date: currentDate, time: currentTime })\r\n        }\r\n        else if (timeOption === \"later\") {\r\n            setSelectTime(false);\r\n            setChooseTimeDate(true);\r\n            setSelectService_type({ service_type: timeOption, date: \"\", time: \"\" })\r\n        }\r\n    }\r\n\r\n\r\n    const handleTradieType = (tradieType) => {\r\n        if (tradieType === \"residential\" && residential === false) {\r\n            setResidential(true);\r\n            setTradie_type([...tradie_type, tradieType])\r\n\r\n        }\r\n        else if (tradieType === \"residential\" && residential === true) {\r\n            const data = tradie_type.filter(function (item) {\r\n                return item !== tradieType\r\n            })\r\n            setTradie_type(data)\r\n\r\n\r\n            setResidential(false);\r\n\r\n        }\r\n\r\n\r\n        else if (tradieType === \"commercial\" && commercial === false) {\r\n            setCommercial(true);\r\n            setTradie_type([...tradie_type, tradieType])\r\n        }\r\n        else if (tradieType === \"commercial\" && commercial === true) {\r\n            const data = tradie_type.filter(function (item) {\r\n                return item !== tradieType\r\n            })\r\n            setTradie_type(data)\r\n            setCommercial(false);\r\n\r\n\r\n        }\r\n    }\r\n    if (modelOpenTradieRequest) {\r\n        document.getElementsByTagName(\"html\")[0].classList.add(\"Scroll_disable_onClick\")\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div >\r\n            <section className=\"user-info-modal popupTradieRequest\" style={{ zIndex: 3 }}>\r\n                <form className=\"popupTradieRequest__form\" onSubmit={handleSubmit(onSubmit)}>\r\n                    <h2>\r\n                        REQUEST TRADIE\r\n                        <span\r\n                            onClick={(e) => {\r\n                                setModelOpenTradieRequest(false)\r\n\r\n                            }}\r\n                            className=\"Closesvg\"\r\n                        >\r\n                            <Close width=\"30px\" height=\"30px\" />\r\n                        </span>\r\n                    </h2>\r\n\r\n\r\n                    <div className=\"input-group\" style={{ marginBottom: '1rem' }}>\r\n                        <input\r\n                            placeholder=\"Job title\"\r\n                            type=\"text\"\r\n                            defaultValue={\"\"}\r\n                            {...register('title', {\r\n                                required: { value: true, message: 'title is required' },\r\n                                minLength: { value: 2, message: 'min value > 3' }\r\n                            })}\r\n                        />\r\n                    </div>\r\n                    {errors.title && <span style={{ color: 'red' }}>{errors.title.message}</span>}\r\n                    <br />\r\n                    <div className=\"input-group\" style={{ marginBottom: '1rem' }}>\r\n                        <textarea\r\n                            placeholder=\"Job Detail\"\r\n                            type=\"text\"\r\n                            defaultValue={\"\"}\r\n                            {...register('detail', {\r\n                                required: { value: true, message: 'detail is required' },\r\n                                minLength: { value: 2, message: 'min value > 3' }\r\n                            })}\r\n                        />\r\n                    </div>\r\n                    {errors.detail && <span style={{ color: 'red' }}>{errors.detail.message}</span>}\r\n                    <br />\r\n\r\n\r\n                    <div className=\"input-group\" style={{ marginBottom: '1rem' }}>\r\n                        <input\r\n                            placeholder=\"Job title\"\r\n                            type=\"text\"\r\n                            defaultValue={\"Perth WA, Australia\"}\r\n                            {...register('address', {\r\n                                required: { value: true, message: 'address is required' },\r\n                                minLength: { value: 2, message: 'min value > 3' }\r\n                            })}\r\n                        />\r\n                    </div>\r\n                    {errors.address && <span style={{ color: 'red' }}>{errors.address.message}</span>}\r\n                    <br />\r\n\r\n                    <div className=\"popupTradieRequest__btns\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                handleSelectTime(\"immediately\")\r\n\r\n                            }}\r\n\r\n                            style={{\r\n                                color: `${selectTime ? \"transparent\" : \"#666\"}`,\r\n                            }}\r\n                        >\r\n                            Immediately\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                handleSelectTime(\"later\")\r\n                            }}\r\n                            style={{\r\n                                color: `${selectTime === false ? \"transparent\" : \"#666\"}`,\r\n                            }}\r\n                        >\r\n                            Choose Date\r\n                        </button>\r\n                    </div>\r\n                    <br />\r\n                    {chooseTimeDate && (\r\n                        <div className=\"popupTradieRequest__dateTime\" >\r\n                            <DatePicker\r\n\r\n                                onChange={setDate}\r\n                                value={date}\r\n                            />\r\n\r\n                            <TimePicker\r\n\r\n                                onChange={setTime}\r\n                                value={time}\r\n                            />\r\n                        </div>\r\n                    )}\r\n\r\n                    <p>Select your tradie type</p>\r\n                    <div className=\"popupTradieRequest__btns\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                handleTradieType(\"residential\")\r\n\r\n                            }}\r\n                            style={{\r\n                                color: `${residential ? \"transparent\" : \"#666\"}`,\r\n                            }}\r\n                        >\r\n                            Residential\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                handleTradieType(\"commercial\")\r\n\r\n                            }}\r\n                            style={{\r\n                                color: `${commercial ? \"transparent\" : \"#666\"}`,\r\n                            }}\r\n                        >\r\n                            Commercial\r\n                        </button>\r\n                    </div>\r\n\r\n\r\n                    <br />\r\n                    <div popupTradieRequest__save>\r\n                        <button type=\"submit\" className=\"btn-primary\"\r\n                            style={{ padding: \"20px\" }}\r\n                        >\r\n                            Save\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n        </div >\r\n    );\r\n};\r\nexport default TradieRequest;\r\n"]},"metadata":{},"sourceType":"module"}