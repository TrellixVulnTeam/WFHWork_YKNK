{"ast":null,"code":"var _jsxFileName = \"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\src\\\\pages\\\\TradieRequest\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\"; // Handling Form with Formik\n\nimport { Formik, Form } from \"formik\"; // Handling Form Validation with yup\n\nimport * as Yup from \"yup\";\nimport { user_to_tradie_request } from \"../../redux/directory/action\";\nimport AutoCompleteSearch from \"../Directory/AutoCompleteSearch\";\nimport { ReactComponent as LocationIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/locationSvg.svg\";\nimport moment from \"moment\";\nimport tradie_request_1 from \"../../assets/images/professional-tradie.jpg\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst Index = props => {\n  _s();\n\n  let tradieId = props.location.state;\n  const {\n    userData\n  } = useSelector(state => state.auth);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    userTradieReqRes\n  } = useSelector(state => state.directory);\n  const [selectDate, setSelectDate] = useState();\n  const [selectTime, setSelectTime] = useState();\n  const [SelectRole, setSelectRole] = useState(false);\n  const [SelectService, setSelectService] = useState(false);\n  const [searchFormData, setSearchFormData] = useState({\n    searchQuery: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    locationAdress: \"\"\n  });\n  const serviceId = localStorage.getItem(\"tradiesearchCat\");\n  const SearchItem = JSON.parse(localStorage.getItem(\"tradiesearch\"));\n  let userInfo = JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));\n  const initialValues = {\n    uid: \"\",\n    title: \"\",\n    detail: \"\",\n    tradie_id: tradieId === null || tradieId === void 0 ? void 0 : tradieId.id,\n    service_id: serviceId,\n    search: SearchItem.search,\n    search_type: SearchItem.search\n  };\n  const validationSchema = Yup.object().shape({\n    title: Yup.string().required(\"Job Title is required\").min(4),\n    detail: Yup.string().required(\"Job Detail is required\"),\n    // address: Yup.string().required(\"address is required\"),\n    city: Yup.string().required(\"city is required\"),\n    state: Yup.string().required(\"city is required\")\n  });\n\n  const handleSubmit = values => {\n    const locationData = {\n      latitude: searchFormData.latitude,\n      longitude: searchFormData.longitude,\n      address: searchFormData.locationAdress\n    };\n    const tradieType = {\n      tradie_type: SelectRole ? \"commercial\" : \"residential\",\n      service_type: SelectService ? \"later\" : \"immediately\",\n      date: SelectService ? moment(selectDate).format(\"YYYY-MM-DD\") : moment(new Date()).format(\"YYYY-MM-DD\"),\n      time: SelectService ? selectTime : moment(new Date()).format(\"HH:mm:ss\")\n    };\n    const tradieRequest = Object.assign({}, values, locationData, tradieType);\n    dispatch(user_to_tradie_request(tradieRequest)); // console.log(\"Submit\", Object.assign({}, values, locationData, tradieType));\n  };\n\n  useEffect(() => {\n    if (userTradieReqRes) {\n      if (userTradieReqRes.success === 1) {\n        history.push(\"/user-bookings\");\n        toast.success(userTradieReqRes.message, {\n          position: \"bottom-left\",\n          autoClose: 2000,\n          size: \"small\"\n        });\n      } else {\n        toast.error(userTradieReqRes.message, {\n          position: \"bottom-left\",\n          autoClose: 2000,\n          size: \"small\"\n        });\n      }\n    }\n\n    setTimeout(() => {\n      dispatch({\n        type: \"USER_JOB_REQUEST_TO_TRADIE_SUCCESS\",\n        payload: \"\"\n      });\n    }, 1000);\n  }, [userTradieReqRes]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section-top\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-top__title\",\n        children: [\"Request \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Tradie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section section-middle\",\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        enableReinitialize: \"true\",\n        initialValues: initialValues,\n        onSubmit: handleSubmit // validationSchema={validationSchema}\n        ,\n        children: formik => {\n          return /*#__PURE__*/_jsxDEV(Form, {\n            autoComplete: \"off\",\n            className: \"tradie-request__form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Job Title\",\n                name: \"title\",\n                onChange: formik.handleChange,\n                value: formik.values.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Job Detail\",\n                name: \"detail\",\n                onChange: formik.handleChange,\n                value: formik.values.detail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(AutoCompleteSearch, {\n                state: searchFormData,\n                setStateFunction: setSearchFormData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"When would you like your service?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSelectService(false);\n                },\n                style: {\n                  color: `${SelectService ? \"black\" : \"#ec9422\"}`,\n                  cursor: \"pointer\"\n                },\n                children: \"Immediately\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSelectService(true);\n                },\n                style: {\n                  color: `${SelectService ? \"#ec9422\" : \"black\"}`,\n                  cursor: \"pointer\"\n                },\n                children: \"Choose Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this), !SelectService ? \"\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  placeholder: \"Choose Date\",\n                  name: \"date\",\n                  onChange: e => setSelectDate(e.target.value) // value={formik.values.date}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  placeholder: \"Choose Date\",\n                  name: \"time\",\n                  step: \"1\",\n                  onChange: e => setSelectTime(e.target.value) // value={formik.values.time}\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Select your tradie type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSelectRole(false);\n                },\n                style: {\n                  color: `${SelectRole ? \"black\" : \"#ec9422\"}`,\n                  cursor: \"pointer\"\n                },\n                children: \"Residential\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setSelectRole(true);\n                },\n                style: {\n                  color: `${SelectRole ? \"#ec9422\" : \"black\"}`,\n                  cursor: \"pointer\"\n                },\n                children: \"Commercial\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary\",\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), (userInfo === null || userInfo === void 0 ? void 0 : userInfo.access) == \"provider\" ? \"\" : /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section section--left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"professional-tradie\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"professional-tradie__description\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"professional-tradie__title\",\n            children: \"Are you a Professional Tradie?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"If you would like to be part of our Tradie community and are ready to meet new clients today please continue so we can welcome you onboard.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/about-us\",\n            className: \"btn-primary\",\n            children: \"Learn More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"professional-tradie__image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: tradie_request_1,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"euExQu+YW8PlgsueF7am3cxSCyc=\", false, function () {\n  return [useSelector, useHistory, useDispatch, useSelector];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/TradieRequest/index.js"],"names":["React","useEffect","useState","Header","Footer","Formik","Form","Yup","user_to_tradie_request","AutoCompleteSearch","moment","tradie_request_1","useSelector","useDispatch","Link","useHistory","toast","configure","Index","props","tradieId","location","state","userData","auth","history","dispatch","userTradieReqRes","directory","selectDate","setSelectDate","selectTime","setSelectTime","SelectRole","setSelectRole","SelectService","setSelectService","searchFormData","setSearchFormData","searchQuery","latitude","longitude","locationAdress","serviceId","localStorage","getItem","SearchItem","JSON","parse","userInfo","initialValues","uid","title","detail","tradie_id","id","service_id","search","search_type","validationSchema","object","shape","string","required","min","city","handleSubmit","values","locationData","address","tradieType","tradie_type","service_type","date","format","Date","time","tradieRequest","Object","assign","success","push","message","position","autoClose","size","error","setTimeout","type","payload","formik","handleChange","color","cursor","e","target","value","access"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\n// Handling Form with Formik\r\nimport { Formik, Form } from \"formik\";\r\n// Handling Form Validation with yup\r\nimport * as Yup from \"yup\";\r\nimport { user_to_tradie_request } from \"../../redux/directory/action\";\r\nimport AutoCompleteSearch from \"../Directory/AutoCompleteSearch\";\r\nimport { ReactComponent as LocationIcon } from \"../../assets/icons/locationSvg.svg\";\r\nimport moment from \"moment\";\r\nimport tradie_request_1 from \"../../assets/images/professional-tradie.jpg\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\ntoast.configure();\r\n\r\nconst Index = (props) => {\r\n  let tradieId = props.location.state;\r\n  const { userData } = useSelector((state) => state.auth);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { userTradieReqRes } = useSelector((state) => state.directory);\r\n  const [selectDate, setSelectDate] = useState();\r\n  const [selectTime, setSelectTime] = useState();\r\n  const [SelectRole, setSelectRole] = useState(false);\r\n  const [SelectService, setSelectService] = useState(false);\r\n  const [searchFormData, setSearchFormData] = useState({\r\n    searchQuery: \"\",\r\n    latitude: \"\",\r\n    longitude: \"\",\r\n    locationAdress: \"\",\r\n  });\r\n  const serviceId = localStorage.getItem(\"tradiesearchCat\");\r\n  const SearchItem = JSON.parse(localStorage.getItem(\"tradiesearch\"));\r\n  let userInfo = JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));\r\n  const initialValues = {\r\n    uid: \"\",\r\n    title: \"\",\r\n    detail: \"\",\r\n    tradie_id: tradieId?.id,\r\n    service_id: serviceId,\r\n    search: SearchItem.search,\r\n    search_type: SearchItem.search,\r\n  };\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    title: Yup.string().required(\"Job Title is required\").min(4),\r\n    detail: Yup.string().required(\"Job Detail is required\"),\r\n    // address: Yup.string().required(\"address is required\"),\r\n    city: Yup.string().required(\"city is required\"),\r\n    state: Yup.string().required(\"city is required\"),\r\n  });\r\n  const handleSubmit = (values) => {\r\n    const locationData = {\r\n      latitude: searchFormData.latitude,\r\n      longitude: searchFormData.longitude,\r\n      address: searchFormData.locationAdress,\r\n    };\r\n    const tradieType = {\r\n      tradie_type: SelectRole ? \"commercial\" : \"residential\",\r\n      service_type: SelectService ? \"later\" : \"immediately\",\r\n      date: SelectService\r\n        ? moment(selectDate).format(\"YYYY-MM-DD\")\r\n        : moment(new Date()).format(\"YYYY-MM-DD\"),\r\n      time: SelectService ? selectTime : moment(new Date()).format(\"HH:mm:ss\"),\r\n    };\r\n    const tradieRequest = Object.assign({}, values, locationData, tradieType);\r\n    dispatch(user_to_tradie_request(tradieRequest));\r\n    // console.log(\"Submit\", Object.assign({}, values, locationData, tradieType));\r\n  };\r\n  useEffect(() => {\r\n    if (userTradieReqRes) {\r\n      if (userTradieReqRes.success === 1) {\r\n        history.push(\"/user-bookings\");\r\n        toast.success(userTradieReqRes.message, {\r\n          position: \"bottom-left\",\r\n          autoClose: 2000,\r\n          size: \"small\",\r\n        });\r\n      } else {\r\n        toast.error(userTradieReqRes.message, {\r\n          position: \"bottom-left\",\r\n          autoClose: 2000,\r\n          size: \"small\",\r\n        });\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      dispatch({ type: \"USER_JOB_REQUEST_TO_TRADIE_SUCCESS\", payload: \"\" });\r\n    }, 1000);\r\n  }, [userTradieReqRes]);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n\r\n      {/* <!-- Tradie Request --> */}\r\n      <section className=\"section-top\">\r\n        <h2 className=\"section-top__title\">\r\n          Request <span>Tradie</span>\r\n        </h2>\r\n      </section>\r\n\r\n      <section className=\"section section-middle\">\r\n        <Formik\r\n          enableReinitialize=\"true\"\r\n          initialValues={initialValues}\r\n          onSubmit={handleSubmit}\r\n          // validationSchema={validationSchema}\r\n        >\r\n          {(formik) => {\r\n            return (\r\n              <Form autoComplete=\"off\" className=\"tradie-request__form\">\r\n                {/* <form action=\"#\" className=\"tradie-request__form\"> */}\r\n                <div className=\"input-group-1\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Job Title\"\r\n                    name=\"title\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.title}\r\n                  />\r\n\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Job Detail\"\r\n                    name=\"detail\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.detail}\r\n                  />\r\n\r\n                  {/* <input type=\"text\" placeholder=\"Location\" name=\"\" /> */}\r\n\r\n                  {/* <LocationIcon /> */}\r\n                  <AutoCompleteSearch\r\n                    state={searchFormData}\r\n                    setStateFunction={setSearchFormData}\r\n                  />\r\n                </div>\r\n\r\n                <label>When would you like your service?</label>\r\n                <div className=\"input-group-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setSelectService(false);\r\n                    }}\r\n                    style={{\r\n                      color: `${SelectService ? \"black\" : \"#ec9422\"}`,\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    Immediately\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setSelectService(true);\r\n                    }}\r\n                    style={{\r\n                      color: `${SelectService ? \"#ec9422\" : \"black\"}`,\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    Choose Date\r\n                  </button>\r\n\r\n                  {!SelectService ? (\r\n                    \"\"\r\n                  ) : (\r\n                    <>\r\n                      {\" \"}\r\n                      <input\r\n                        type=\"date\"\r\n                        placeholder=\"Choose Date\"\r\n                        name=\"date\"\r\n                        onChange={(e) => setSelectDate(e.target.value)}\r\n                        // value={formik.values.date}\r\n                      />\r\n                      <input\r\n                        type=\"time\"\r\n                        placeholder=\"Choose Date\"\r\n                        name=\"time\"\r\n                        step=\"1\"\r\n                        onChange={(e) => setSelectTime(e.target.value)}\r\n                        // value={formik.values.time}\r\n                      />\r\n                    </>\r\n                  )}\r\n                </div>\r\n\r\n                <label>Select your tradie type</label>\r\n                <div className=\"input-group-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setSelectRole(false);\r\n                    }}\r\n                    style={{\r\n                      color: `${SelectRole ? \"black\" : \"#ec9422\"}`,\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    Residential\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      setSelectRole(true);\r\n                    }}\r\n                    style={{\r\n                      color: `${SelectRole ? \"#ec9422\" : \"black\"}`,\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    Commercial\r\n                  </button>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn-primary\">\r\n                  Next\r\n                </button>\r\n                {/* </form> */}\r\n              </Form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </section>\r\n\r\n      {/* // <!-- Are you a Professional Tradie? --> */}\r\n      {userInfo?.access == \"provider\" ? (\r\n        \"\"\r\n      ) : (\r\n        <section className=\"section section--left\">\r\n          <div className=\"professional-tradie\">\r\n            <div className=\"professional-tradie__description\">\r\n              <h3 className=\"professional-tradie__title\">\r\n                Are you a Professional Tradie?\r\n              </h3>\r\n              <p>\r\n                If you would like to be part of our Tradie community and are\r\n                ready to meet new clients today please continue so we can\r\n                welcome you onboard.\r\n              </p>\r\n              <Link to=\"/about-us\" className=\"btn-primary\">\r\n                Learn More\r\n              </Link>\r\n            </div>\r\n            <div className=\"professional-tradie__image\">\r\n              <img src={tradie_request_1} alt=\"\" />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}