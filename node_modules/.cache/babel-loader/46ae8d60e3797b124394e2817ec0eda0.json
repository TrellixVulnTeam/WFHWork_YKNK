{"ast":null,"code":"import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import*as Actions from\"../../redux/auth/action\";import{countries_code}from\"../../constants/countries_code\";import HeaderLogo from\"../../assets/images/header-logo.svg\";import HeaderLogoMob from\"../../assets/images/mobile-logo.svg\";// import dailingCode64 from \"../../assets/icons/dailing-code_64.svg\";\nimport spriteIconFacebook from\"../../assets/icons/sprite_icon_facebook.svg\";import photoOne from\"../../assets/images/photo-1546552356-3fae876a61ca.jpeg\";import photoTwo from\"../../assets/images/asian-plumber-blue-overalls-clearing-blockage-drain_1098-17773.jpg\";import photoThree from\"../../assets/images/photo-1581141849291-1125c7b692b5.jpeg\";import photoFour from\"../../assets/images/construction-worker-with-hard-hat-sanding-down-wood-piece_23-2148748860.jpg\";import photoFive from\"../../assets/images/photo-1574757987642-5755f0839101.jpeg\";import LoginInPopup from\"./login_verification_popop\";import FacebookLogin from\"react-facebook-login\";import{useSelector,useDispatch}from\"react-redux\";import{useHistory,useLocation}from\"react-router\";import Modal from\"../../components/UserSignupModal\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var Index=function Index(){var history=useHistory();var location=useLocation();var Dispatch=useDispatch();var updateAccessToken_Action=Actions.updateAccessToken_Action,otpLogin_Action=Actions.otpLogin_Action,faceBookLogin_Action=Actions.faceBookLogin_Action,otp_State_Change_Action=Actions.otp_State_Change_Action;var _useSelector=useSelector(function(state){return state.auth;}),opt_mesg=_useSelector.opt_mesg,loading=_useSelector.loading,success=_useSelector.success,login=_useSelector.login,verify_OTP=_useSelector.verify_OTP,otp_state=_useSelector.otp_state,otp_stateLogin=_useSelector.otp_stateLogin;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),btnTab=_useState2[0],setBtnTab=_useState2[1];var _useState3=useState(\"+61\"),_useState4=_slicedToArray(_useState3,2),countryCode=_useState4[0],setCountryCode=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),mobileNumber=_useState6[0],setMobileNumber=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOpen=_useState8[0],setIsOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isValidationMessage=_useState10[0],setIsValidationMessage=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),regMsg=_useState12[0],setRegMsg=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),namePopup=_useState14[0],setnamePopup=_useState14[1];var togglePopup=function togglePopup(){setIsOpen(!isOpen);};var responseFacebook=function responseFacebook(response){Dispatch(faceBookLogin_Action({facebook_id:response.id,tab:btnTab?\"provider\":\"user\",name:response.name}));};var componentClicked=function componentClicked(data){};useEffect(function(){if(login&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"provider\"){history.push(\"/tradie-popup-step1\");}if((verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)!==\"\"&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"user\"){history.push(\"/user-profile\");}if((verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)===\"\"){setIsOpen(false);}if(login&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"\"){history.push(\"/\");}},[login]);var handleKeyDown=function handleKeyDown(e){if(e.key===\"Enter\"){if(mobileNumber.length!==0&&mobileNumber.length>=9){LoginBtn();}}};var LoginBtn=function LoginBtn(){if(countryCode==\"\"){toast.error(\"Please fill Country code\",{position:\"bottom-left\",autoClose:2000,size:\"small\"});}else if(!countryCode.match(/^(\\+?\\d{1,3}|\\d{1,4})$/g)){toast.error(\"Please fill valid Country code\",{position:\"bottom-left\",autoClose:2000,size:\"small\"});}else{Dispatch(updateAccessToken_Action());Dispatch(otpLogin_Action({countryCode:\"\".concat(Number(countryCode)),mobileNumber:\"\".concat(mobileNumber),tab:btnTab?\"provider\":\"user\"}));setRegMsg(true);setIsOpen(true);}};var handleMobileNo=function handleMobileNo(e){if(e.target.value.length<=9){setIsValidationMessage(true);}if(e.target.value.length>=9){setIsValidationMessage(false);Dispatch(otp_State_Change_Action(true));}if(e.target.value.length<=10){setMobileNumber(e.target.value);Dispatch(otp_State_Change_Action(true));}};// useEffect(() => {\n// }, [countryCode]);\nif(location.pathname===\"/login\"&&!otp_state&&mobileNumber===\"\"){Dispatch(otp_State_Change_Action(true));}var Back=function Back(){history.goBack();};// Country code Options\nvar SelectOption=countries_code===null||countries_code===void 0?void 0:countries_code.map(function(val){return{value:val.id,label:val.id};});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"section section--sign-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__left\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsxs(Link,{className:\"nav__left\",to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"nav__logo\",src:HeaderLogo,title:\"header-logo\",alt:\"header-logo\"}),/*#__PURE__*/_jsx(\"img\",{className:\"nav__logo--md\",src:HeaderLogoMob,hidden:true,title:\"header-logo-mob\",alt:\"header-logo-mob\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:Back,style:{cursor:\"pointer\"},className:\" btn-primary\",children:\"Back\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"section__title sign-up__title\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sign-up__description\",children:\"Welcome, Please Sign In to continue.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sign-up-form__navigation\",children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{className:btnTab?\"active\":\"\",onClick:function onClick(){setBtnTab(true);},children:\"As Tradie\"}),/*#__PURE__*/_jsx(\"button\",{className:!btnTab?\"active\":\"\",onClick:function onClick(){setBtnTab(false);},children:\"As User\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__mobile\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__inputs\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"mobile-number\",children:countries_code.map(function(country){if(country.id===countryCode){return country.flag;}})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"sign-up-form__country-code\",value:countryCode,onChange:function onChange(e){setCountryCode(e.target.value);},style:{color:\"#535353 !important\"},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"sign-up-form__mobile-number\",id:\"mobile-number\",placeholder:\"Enter your mobile number\",value:mobileNumber,onChange:function onChange(e){handleMobileNo(e);},onKeyDown:handleKeyDown,required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up-form__error_msg\",children:/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\" \",isValidationMessage?\"Please Enter 9 to 10 digits number\":\"\",otp_stateLogin?\"You are not a registered user\":\"\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-up-form__submit btn-primary\",onClick:LoginBtn,disabled:mobileNumber.length<9,children:\"Log In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__or\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"OR\"}),/*#__PURE__*/_jsx(FacebookLogin,{appId:\"3141633349249902\",autoLoad:false,icon:/*#__PURE__*/_jsx(\"img\",{src:spriteIconFacebook,alt:\"kj\"}),textButton:\"Continue with Facebook\",fields:\"name,email,picture\",onClick:componentClicked,callback:responseFacebook})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__sign-in\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",children:\" Sign Up \"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoOne,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoTwo,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up__right-column sign-up__right-column--center\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoThree,alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoFour,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoFive,alt:\"\"})})]})]})]})}),isOpen&&opt_mesg?/*#__PURE__*/_jsx(LoginInPopup,{handleClose:togglePopup,countryCode:countryCode,mobileNumber:mobileNumber,btnTab:btnTab,setnamePopup:setnamePopup}):null,login&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)===\"\"&&namePopup?/*#__PURE__*/_jsx(Modal,{setnamePopup:setnamePopup}):null]});};export default/*#__PURE__*/React.memo(Index);","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/LogIn/index.js"],"names":["React","useEffect","useState","Link","Actions","countries_code","photoOne","photoTwo","photoThree","photoFour","photoFive","LoginInPopup","FacebookLogin","useSelector","useDispatch","useHistory","useLocation","Modal","toast","configure","Index","history","location","Dispatch","updateAccessToken_Action","otpLogin_Action","faceBookLogin_Action","otp_State_Change_Action","state","auth","opt_mesg","loading","success","login","verify_OTP","otp_state","otp_stateLogin","btnTab","setBtnTab","countryCode","setCountryCode","mobileNumber","setMobileNumber","isOpen","setIsOpen","isValidationMessage","setIsValidationMessage","regMsg","setRegMsg","namePopup","setnamePopup","togglePopup","responseFacebook","response","facebook_id","id","tab","name","componentClicked","data","role","push","fullname","handleKeyDown","e","key","length","LoginBtn","error","position","autoClose","size","match","Number","handleMobileNo","target","value","pathname","Back","goBack","SelectOption","map","val","label","HeaderLogo","HeaderLogoMob","cursor","country","flag","color","spriteIconFacebook","memo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport * as Actions from \"../../redux/auth/action\";\r\nimport { countries_code } from \"../../constants/countries_code\";\r\nimport HeaderLogo from \"../../assets/images/header-logo.svg\";\r\nimport HeaderLogoMob from \"../../assets/images/mobile-logo.svg\";\r\n// import dailingCode64 from \"../../assets/icons/dailing-code_64.svg\";\r\nimport spriteIconFacebook from \"../../assets/icons/sprite_icon_facebook.svg\";\r\nimport photoOne from \"../../assets/images/photo-1546552356-3fae876a61ca.jpeg\";\r\nimport photoTwo from \"../../assets/images/asian-plumber-blue-overalls-clearing-blockage-drain_1098-17773.jpg\";\r\nimport photoThree from \"../../assets/images/photo-1581141849291-1125c7b692b5.jpeg\";\r\nimport photoFour from \"../../assets/images/construction-worker-with-hard-hat-sanding-down-wood-piece_23-2148748860.jpg\";\r\nimport photoFive from \"../../assets/images/photo-1574757987642-5755f0839101.jpeg\";\r\nimport LoginInPopup from \"./login_verification_popop\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport Modal from \"../../components/UserSignupModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\ntoast.configure();\r\n\r\nconst Index = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const Dispatch = useDispatch();\r\n  const {\r\n    updateAccessToken_Action,\r\n    otpLogin_Action,\r\n    faceBookLogin_Action,\r\n    otp_State_Change_Action,\r\n  } = Actions;\r\n  const {\r\n    opt_mesg,\r\n    loading,\r\n    success,\r\n    login,\r\n    verify_OTP,\r\n    otp_state,\r\n    otp_stateLogin,\r\n  } = useSelector((state) => state.auth);\r\n\r\n  const [btnTab, setBtnTab] = useState(true);\r\n  const [countryCode, setCountryCode] = useState(\"+61\");\r\n  const [mobileNumber, setMobileNumber] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isValidationMessage, setIsValidationMessage] = useState(false);\r\n  const [regMsg, setRegMsg] = useState(false);\r\n  const [namePopup, setnamePopup] = useState(false);\r\n\r\n  const togglePopup = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const responseFacebook = (response) => {\r\n    \r\n    Dispatch(\r\n      faceBookLogin_Action({\r\n        facebook_id: response.id,\r\n        tab: btnTab ? \"provider\" : \"user\",\r\n        name: response.name,\r\n      })\r\n    );\r\n  };\r\n  const componentClicked = (data) => {};\r\n\r\n  useEffect(() => {\r\n    if (login && verify_OTP?.role === \"provider\") {\r\n      history.push(\"/tradie-popup-step1\");\r\n    }\r\n    if (verify_OTP?.fullname !== \"\" && verify_OTP?.role === \"user\") {\r\n      history.push(\"/user-profile\");\r\n    }\r\n    if (verify_OTP?.fullname === \"\") {\r\n      setIsOpen(false);\r\n    }\r\n    if (login && verify_OTP?.role === \"\") {\r\n      history.push(\"/\");\r\n    }\r\n  }, [login]);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      if (mobileNumber.length !== 0 && mobileNumber.length >= 9) {\r\n        LoginBtn();\r\n      }\r\n    }\r\n  };\r\n  const LoginBtn = () => {\r\n    if (countryCode == \"\") {\r\n      toast.error(\"Please fill Country code\", {\r\n        position: \"bottom-left\",\r\n        autoClose: 2000,\r\n        size: \"small\",\r\n      });\r\n    } else if (!countryCode.match(/^(\\+?\\d{1,3}|\\d{1,4})$/g)) {\r\n      toast.error(\"Please fill valid Country code\", {\r\n        position: \"bottom-left\",\r\n        autoClose: 2000,\r\n        size: \"small\",\r\n      });\r\n    } else {\r\n      Dispatch(updateAccessToken_Action());\r\n      Dispatch(\r\n        otpLogin_Action({\r\n          countryCode: `${Number(countryCode)}`,\r\n          mobileNumber: `${mobileNumber}`,\r\n          tab: btnTab ? \"provider\" : \"user\",\r\n        })\r\n      );\r\n      setRegMsg(true);\r\n      setIsOpen(true);\r\n    }\r\n  };\r\n  const handleMobileNo = (e) => {\r\n    if (e.target.value.length <= 9) {\r\n      setIsValidationMessage(true);\r\n    }\r\n    if (e.target.value.length >= 9) {\r\n      setIsValidationMessage(false);\r\n      Dispatch(otp_State_Change_Action(true));\r\n    }\r\n    if (e.target.value.length <= 10) {\r\n      setMobileNumber(e.target.value);\r\n      Dispatch(otp_State_Change_Action(true));\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n\r\n  // }, [countryCode]);\r\n\r\n  if (location.pathname === \"/login\" && !otp_state && mobileNumber === \"\") {\r\n    Dispatch(otp_State_Change_Action(true));\r\n  }\r\n  const Back = () => {\r\n    history.goBack();\r\n  };\r\n  // Country code Options\r\n  const SelectOption = countries_code?.map((val) => {\r\n    return { value: val.id, label: val.id };\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"section section--sign-up\">\r\n        <div className=\"sign-up\">\r\n          <div className=\"sign-up__left\">\r\n            <nav className=\"nav\">\r\n              {/* <a className=\"nav__left\" href=\"/\"> */}\r\n              <Link className=\"nav__left\" to=\"/\">\r\n                <img\r\n                  className=\"nav__logo\"\r\n                  src={HeaderLogo}\r\n                  title=\"header-logo\"\r\n                  alt=\"header-logo\"\r\n                />\r\n                <img\r\n                  className=\"nav__logo--md\"\r\n                  src={HeaderLogoMob}\r\n                  hidden\r\n                  title=\"header-logo-mob\"\r\n                  alt=\"header-logo-mob\"\r\n                />\r\n                {/* </a> */}\r\n              </Link>\r\n              <button\r\n                onClick={Back}\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\" btn-primary\"\r\n              >\r\n                Back\r\n              </button>\r\n            </nav>\r\n            <h3 className=\"section__title sign-up__title\">Log In</h3>\r\n            <p className=\"sign-up__description\">\r\n              Welcome, Please Sign In to continue.\r\n            </p>\r\n            <div className=\"sign-up-form\">\r\n              <div className=\"sign-up-form__navigation\">\r\n                <nav>\r\n                  <button\r\n                    className={btnTab ? \"active\" : \"\"}\r\n                    onClick={() => {\r\n                      setBtnTab(true);\r\n                    }}\r\n                  >\r\n                    As Tradie\r\n                  </button>\r\n                  <button\r\n                    className={!btnTab ? \"active\" : \"\"}\r\n                    onClick={() => {\r\n                      setBtnTab(false);\r\n                    }}\r\n                  >\r\n                    As User\r\n                  </button>\r\n                </nav>\r\n              </div>\r\n\r\n              <div className=\"sign-up-form__mobile\">\r\n                <p>Mobile Number</p>\r\n                <div className=\"sign-up-form__inputs\">\r\n                  <label for=\"mobile-number\">\r\n                    {countries_code.map((country) => {\r\n                      if (country.id === countryCode) {\r\n                        return country.flag;\r\n                      }\r\n                    })}\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"sign-up-form__country-code\"\r\n                    value={countryCode}\r\n                    onChange={(e) => {\r\n                      setCountryCode(e.target.value);\r\n                    }}\r\n                    style={{ color: \"#535353 !important\" }}\r\n                    required\r\n                  />\r\n                  {/* <Select\r\n                    className=\"sign-up-form__country-code\"\r\n                    value={countryCode}\r\n                    onChange={(e) => {\r\n                      setCountryCode(e.value);\r\n                    }}\r\n                    options={SelectOption}\r\n                  /> */}\r\n\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"sign-up-form__mobile-number\"\r\n                    id=\"mobile-number\"\r\n                    placeholder=\"Enter your mobile number\"\r\n                    value={mobileNumber}\r\n                    onChange={(e) => {\r\n                      handleMobileNo(e);\r\n                    }}\r\n                    onKeyDown={handleKeyDown}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"sign-up-form__error_msg\">\r\n                <p\r\n                  style={{\r\n                    color: \"red\",\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  {isValidationMessage\r\n                    ? \"Please Enter 9 to 10 digits number\"\r\n                    : \"\"}\r\n                  {otp_stateLogin ? \"You are not a registered user\" : \"\"}\r\n                </p>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"sign-up-form__submit btn-primary\"\r\n                onClick={LoginBtn}\r\n                disabled={mobileNumber.length < 9}\r\n              >\r\n                Log In\r\n              </button>\r\n              <div className=\"sign-up-form__or\">\r\n                <p>OR</p>\r\n                <FacebookLogin\r\n                  appId=\"3141633349249902\"\r\n                  autoLoad={false}\r\n                  icon={<img src={spriteIconFacebook} alt=\"kj\" />}\r\n                  textButton=\"Continue with Facebook\"\r\n                  fields=\"name,email,picture\"\r\n                  onClick={componentClicked}\r\n                  callback={responseFacebook}\r\n                />\r\n              </div>\r\n              <div className=\"sign-up-form__sign-in\">\r\n                <p>Don't have an account?</p>\r\n                <Link to=\"/sign-up\"> Sign Up </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"sign-up__right\">\r\n            <div className=\"sign-up__right-column\">\r\n              <div>\r\n                <img src={photoOne} alt=\"\" />\r\n              </div>\r\n              <div>\r\n                <img src={photoTwo} alt=\"\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"sign-up__right-column sign-up__right-column--center\">\r\n              <div>\r\n                <img src={photoThree} alt=\"\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"sign-up__right-column\">\r\n              <div>\r\n                <img src={photoFour} alt=\"\" />\r\n              </div>\r\n              <div>\r\n                <img src={photoFive} alt=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {isOpen && opt_mesg ? (\r\n        <LoginInPopup\r\n          handleClose={togglePopup}\r\n          countryCode={countryCode}\r\n          mobileNumber={mobileNumber}\r\n          btnTab={btnTab}\r\n          setnamePopup={setnamePopup}\r\n        />\r\n      ) : null}\r\n      {login && verify_OTP?.fullname === \"\" && namePopup ? (\r\n        <Modal setnamePopup={setnamePopup} />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(Index);\r\n"]},"metadata":{},"sourceType":"module"}