{"ast":null,"code":"var _jsxFileName = \"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\src\\\\pages\\\\DashboardBookingDetail\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport { useHistory } from \"react-router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport * as Actions from \"../../redux/directory/action\";\nimport StarSvg from \"../../assets/icons/star.svg\";\nimport starActive from \"../../assets/icons/starActive.svg\";\nimport { useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { IoMdCloudDone } from \"react-icons/io\";\nimport { MdOutlineCancel } from \"react-icons/md\";\nimport DeleteTradie from \"./DeleteTradiePopup\";\nimport DeleteJobPost from \"./DeleteJobPost\";\nimport StarRatings from \"react-star-ratings\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Index = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    user_single_lead_request,\n    user_leads_request,\n    single_tradie_delete_request,\n    user_leads_history_request\n  } = Actions;\n  const {\n    singleLead,\n    singleTradieRes\n  } = useSelector(state => state.directory);\n  const [deletePopup, setDeletePopup] = useState(false);\n  const [deleteJobPopup, setDeleteJobPopup] = useState(false);\n  const [deleteJobData, setDeleteJobData] = useState(\"\");\n  const {\n    userLeads,\n    userLeadHistory\n  } = useSelector(state => state.directory);\n  const [tradeDeleteData, setTradeDeleteData] = useState({\n    job_id: \"\",\n    pid: \"\",\n    uid: \"\",\n    type: \"\",\n    action: \"\"\n  });\n  useEffect(() => {\n    if (singleTradieRes) {\n      if (singleTradieRes.success == 1) {\n        toast.success(singleTradieRes.message, {\n          position: \"bottom-left\",\n          autoClose: 2000,\n          size: \"small\"\n        });\n      }\n\n      history.push(\"/user-bookings\");\n    }\n\n    setTimeout(() => {\n      dispatch({\n        type: \"SINGLE_TRADIE_DELETE_SUCCESS\",\n        payload: \"\"\n      });\n    }, 1000);\n  }, [singleTradieRes]);\n  useEffect(() => {\n    dispatch(user_single_lead_request({\n      jobid: id\n    }));\n    dispatch(user_leads_request({\n      lead_type: \"new\"\n    }));\n    dispatch(user_leads_history_request({\n      lead_type: \"history\"\n    }));\n  }, []);\n\n  const selectedRadieType = singleBooking => {\n    if (singleBooking == \"residential,commercial\") return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking_status_service_list_btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            textTransform: \"capitalize\"\n          },\n          children: \"Residential\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking_status_service_list_btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            textTransform: \"capitalize\"\n          },\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);else if (singleBooking == \"residential\") return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking_status_service_list_btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            textTransform: \"capitalize\"\n          },\n          children: \"Residential\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);else return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"booking_status_service_list_btn\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            textTransform: \"capitalize\"\n          },\n          children: \"Commercial\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  };\n\n  const handleDeleteTradie = (job_id, pid, uid, type) => {\n    setTradeDeleteData({\n      job_id: job_id,\n      pid: pid,\n      uid: uid,\n      type: type,\n      action: \"delete\"\n    });\n    setDeletePopup(true);\n  };\n\n  const handleDeleteJob = job_id => {\n    setDeleteJobData(job_id);\n    setDeleteJobPopup(true);\n  };\n\n  const acceptProvider = data => {\n    const acceptData = {\n      id: data === null || data === void 0 ? void 0 : data.job_post_id,\n      action: \"accept\",\n      type: data === null || data === void 0 ? void 0 : data.type,\n      pid: data === null || data === void 0 ? void 0 : data.provider_id\n    };\n    dispatch(single_tradie_delete_request(acceptData));\n  };\n\n  const rejectProvider = data => {\n    const acceptData = {\n      id: data.job_post_id,\n      action: \"reject\",\n      type: data.type,\n      pid: data.provider_id\n    };\n    dispatch(single_tradie_delete_request(acceptData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"booking-section1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-section1_row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"booking-section1_col1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"white-box-radius\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"back\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: () => {\n                    history.goBack();\n                  },\n                  children: `<    Back`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), singleLead && (singleLead === null || singleLead === void 0 ? void 0 : singleLead.map(singleBooking => {\n                var _singleBooking$job_po, _singleBooking$job_po2;\n\n                return /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status\",\n                    children: [userLeads === null || userLeads === void 0 ? void 0 : userLeads.map(res => res.id == singleBooking.id ? res.type == \"multiple\" ? res.status == \"completed\" ? \"Completed\" : res.status == \"open\" ? \"Pending\" : res.status == \"accept\" ? \"Accepted\" : res.status == \"active\" ? \"Accepted\" : \"\" : res.job_post.length > 0 ? res.job_post.map((leads, i) => leads.dispute == 1 ? leads.user_status == \"completed\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 41\n                    }, this) : \"Disputed\" : leads.provider_status == \"reject\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Settled\"\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 39\n                    }, this) : leads.provider_status == \"accept\" ? \"Accepted\" : leads.provider_status == \"completed\" ? \"Completed\" : \"pending\") : \"\" : \"\"), userLeadHistory === null || userLeadHistory === void 0 ? void 0 : userLeadHistory.map(res => res.id == singleBooking.id ? res.type == \"multiple\" ? res.status == \"completed\" ? \"Completed\" : res.status == \"open\" ? \"Pending\" : res.status == \"accept\" ? \"Accepted\" : res.status == \"active\" ? \"Accepted\" : \"Pending\" : res.job_post.length > 0 ? res.job_post.map((leads, i) => leads.dispute == 1 ? leads.user_status == \"completed\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Completed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 41\n                    }, this) : \"Disputed\" : leads.provider_status == \"reject\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"Settled\"\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 39\n                    }, this) : leads.provider_status == \"accept\" ? \"Accepted\" : leads.provider_status == \"completed\" ? \"Completed\" : \"pending\") : \"\" : \"\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_title\",\n                    style: {\n                      textTransform: \"capitalize\"\n                    },\n                    children: singleBooking.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_date\",\n                    children: [moment(singleBooking.time, [\"HH.mm.ss\"]).format(\"hh:mm A\"), \" \", \"on \", moment(singleBooking.date).format(\"ll\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_service\",\n                    children: \"Service Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_service_list\",\n                    children: selectedRadieType(singleBooking.tradie_type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_job_desc\",\n                    children: \"Job Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_job_desc_list\",\n                    children: singleBooking.detail\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"booking_status_service_delete\",\n                    children: (singleBooking === null || singleBooking === void 0 ? void 0 : (_singleBooking$job_po = singleBooking.job_post) === null || _singleBooking$job_po === void 0 ? void 0 : _singleBooking$job_po.length) <= 1 ? singleBooking === null || singleBooking === void 0 ? void 0 : (_singleBooking$job_po2 = singleBooking.job_post) === null || _singleBooking$job_po2 === void 0 ? void 0 : _singleBooking$job_po2.map(singleTradie => singleTradie.provider_status == \"accept\" ? \"\" : singleTradie.provider_status == \"completed\" ? \"\" : singleTradie.provider_status == \"accept\" && singleTradie.user_status != \"reject\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => {\n                        handleDeleteJob(singleBooking.id);\n                      },\n                      children: \"Delete This Job\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => {\n                        handleDeleteJob(singleBooking.id);\n                      },\n                      children: \"Delete This Job\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 33\n                    }, this)) : /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: {\n                        cursor: \"pointer\"\n                      },\n                      onClick: () => {\n                        handleDeleteJob(singleBooking.id);\n                      },\n                      children: \"Delete This Job\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true);\n              }))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"booking-section1_col2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"List All Tradie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-section1_inner_row\",\n              children: singleLead && (singleLead === null || singleLead === void 0 ? void 0 : singleLead.map(singleBooking => {\n                var _singleBooking$job_po3;\n\n                return singleBooking === null || singleBooking === void 0 ? void 0 : (_singleBooking$job_po3 = singleBooking.job_post) === null || _singleBooking$job_po3 === void 0 ? void 0 : _singleBooking$job_po3.map(singleTradie => {\n                  return /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"booking-section1_col3\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"list-box\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"list-box_img_sec\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"list-box_img\",\n                            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                              className: \"img1\",\n                              src: singleTradie.profile_pic ? `https://api.tapatradie.com/profile/${singleTradie.id}/` + singleTradie.profile_pic : \"/static/media/user.8d49e377.png\",\n                              alt: \"\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 311,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                              className: \"img2\",\n                              src: \"http://sample.jploftsolutions.in/tapImages/creator-icon.svg\",\n                              alt: \"\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 321,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 310,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"list-box_online\",\n                            children: singleTradie.online === 1 ? \"Online\" : \"Offline\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 327,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 309,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"list-box_detail\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            children: singleTradie.full_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 334,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"list-box_detail_img\",\n                            children: /*#__PURE__*/_jsxDEV(StarRatings, {\n                              rating: singleTradie.rating ? Math.round(Number(singleTradie.rating) * 10) / 10 : 0,\n                              starRatedColor: \"orange\",\n                              numberOfStars: 5,\n                              name: \"rating\",\n                              starSpacing: \"1px\",\n                              starDimension: \"17px\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 336,\n                              columnNumber: 35\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 335,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: singleBooking.service_name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 353,\n                            columnNumber: 33\n                          }, this), singleBooking.type = \"multiple\" ? singleBooking.job_post.length > 1 ? singleTradie.provider_status == \"accept\" ? singleTradie.user_status == \"reject\" ? \"\" : singleTradie.user_status == \"accept\" ? \"\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(IoMdCloudDone, {\n                              size: 22,\n                              style: {\n                                color: \"green\"\n                              },\n                              onClick: e => acceptProvider(singleTradie)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 366,\n                              columnNumber: 45\n                            }, this), \"  \", \" \\xA0\", /*#__PURE__*/_jsxDEV(MdOutlineCancel, {\n                              size: 22,\n                              style: {\n                                color: \"red\"\n                              },\n                              onClick: () => rejectProvider(singleTradie)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 374,\n                              columnNumber: 45\n                            }, this), \" \"]\n                          }, void 0, true) : null : \"\" : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 333,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false);\n                });\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), deletePopup && /*#__PURE__*/_jsxDEV(DeleteTradie, {\n      setDeletePopup: setDeletePopup,\n      tradeDeleteData: tradeDeleteData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 9\n    }, this), deleteJobPopup && /*#__PURE__*/_jsxDEV(DeleteJobPost, {\n      setDeleteJobPopup: setDeleteJobPopup,\n      deleteJobData: deleteJobData,\n      tradeDeleteData: tradeDeleteData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"cdHWRzKzKestuzL45ZyUX5bN7tU=\", false, function () {\n  return [useParams, useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/DashboardBookingDetail/index.js"],"names":["React","useEffect","useState","Header","Footer","useHistory","useSelector","useDispatch","Actions","useParams","moment","IoMdCloudDone","MdOutlineCancel","DeleteTradie","DeleteJobPost","StarRatings","toast","Index","id","history","dispatch","user_single_lead_request","user_leads_request","single_tradie_delete_request","user_leads_history_request","singleLead","singleTradieRes","state","directory","deletePopup","setDeletePopup","deleteJobPopup","setDeleteJobPopup","deleteJobData","setDeleteJobData","userLeads","userLeadHistory","tradeDeleteData","setTradeDeleteData","job_id","pid","uid","type","action","success","message","position","autoClose","size","push","setTimeout","payload","jobid","lead_type","selectedRadieType","singleBooking","textTransform","handleDeleteTradie","handleDeleteJob","acceptProvider","data","acceptData","job_post_id","provider_id","rejectProvider","goBack","map","res","status","job_post","length","leads","i","dispute","user_status","provider_status","title","time","format","date","tradie_type","detail","singleTradie","cursor","profile_pic","online","full_name","rating","Math","round","Number","service_name","color","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport * as Actions from \"../../redux/directory/action\";\r\nimport StarSvg from \"../../assets/icons/star.svg\";\r\nimport starActive from \"../../assets/icons/starActive.svg\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { IoMdCloudDone } from \"react-icons/io\";\r\nimport { MdOutlineCancel } from \"react-icons/md\";\r\nimport DeleteTradie from \"./DeleteTradiePopup\";\r\nimport DeleteJobPost from \"./DeleteJobPost\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst Index = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    user_single_lead_request,\r\n    user_leads_request,\r\n    single_tradie_delete_request,\r\n    user_leads_history_request,\r\n  } = Actions;\r\n  const { singleLead, singleTradieRes } = useSelector(\r\n    (state) => state.directory\r\n  );\r\n  const [deletePopup, setDeletePopup] = useState(false);\r\n  const [deleteJobPopup, setDeleteJobPopup] = useState(false);\r\n  const [deleteJobData, setDeleteJobData] = useState(\"\");\r\n  const { userLeads, userLeadHistory } = useSelector(\r\n    (state) => state.directory\r\n  );\r\n\r\n  const [tradeDeleteData, setTradeDeleteData] = useState({\r\n    job_id: \"\",\r\n    pid: \"\",\r\n    uid: \"\",\r\n    type: \"\",\r\n    action: \"\",\r\n  });\r\n  useEffect(() => {\r\n    if (singleTradieRes) {\r\n      if (singleTradieRes.success == 1) {\r\n        toast.success(singleTradieRes.message, {\r\n          position: \"bottom-left\",\r\n          autoClose: 2000,\r\n          size: \"small\",\r\n        });\r\n      }\r\n      history.push(\"/user-bookings\");\r\n    }\r\n    setTimeout(() => {\r\n      dispatch({ type: \"SINGLE_TRADIE_DELETE_SUCCESS\", payload: \"\" });\r\n    }, 1000);\r\n  }, [singleTradieRes]);\r\n\r\n  useEffect(() => {\r\n    dispatch(user_single_lead_request({ jobid: id }));\r\n    dispatch(user_leads_request({ lead_type: \"new\" }));\r\n    dispatch(user_leads_history_request({ lead_type: \"history\" }));\r\n  }, []);\r\n\r\n  const selectedRadieType = (singleBooking) => {\r\n    if (singleBooking == \"residential,commercial\")\r\n      return (\r\n        <>\r\n          <div className=\"booking_status_service_list_btn\">\r\n            <button style={{ textTransform: \"capitalize\" }}>\r\n              {\"Residential\"}\r\n            </button>\r\n          </div>\r\n          <div className=\"booking_status_service_list_btn\">\r\n            <button style={{ textTransform: \"capitalize\" }}>\r\n              {\"Commercial\"}\r\n            </button>\r\n          </div>\r\n        </>\r\n      );\r\n    else if (singleBooking == \"residential\")\r\n      return (\r\n        <>\r\n          <div className=\"booking_status_service_list_btn\">\r\n            <button style={{ textTransform: \"capitalize\" }}>\r\n              {\"Residential\"}\r\n            </button>\r\n          </div>\r\n        </>\r\n      );\r\n    else\r\n      return (\r\n        <>\r\n          <div className=\"booking_status_service_list_btn\">\r\n            <button style={{ textTransform: \"capitalize\" }}>\r\n              {\"Commercial\"}\r\n            </button>\r\n          </div>\r\n        </>\r\n      );\r\n  };\r\n\r\n  const handleDeleteTradie = (job_id, pid, uid, type) => {\r\n    setTradeDeleteData({\r\n      job_id: job_id,\r\n      pid: pid,\r\n      uid: uid,\r\n      type: type,\r\n      action: \"delete\",\r\n    });\r\n    setDeletePopup(true);\r\n  };\r\n\r\n  const handleDeleteJob = (job_id) => {\r\n    setDeleteJobData(job_id);\r\n    setDeleteJobPopup(true);\r\n  };\r\n  const acceptProvider = (data) => {\r\n    const acceptData = {\r\n      id: data?.job_post_id,\r\n      action: \"accept\",\r\n      type: data?.type,\r\n      pid: data?.provider_id,\r\n    };\r\n    dispatch(single_tradie_delete_request(acceptData));\r\n  };\r\n  const rejectProvider = (data) => {\r\n    const acceptData = {\r\n      id: data.job_post_id,\r\n      action: \"reject\",\r\n      type: data.type,\r\n      pid: data.provider_id,\r\n    };\r\n    dispatch(single_tradie_delete_request(acceptData));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <section className=\"booking-section1\">\r\n        <div className=\"container\">\r\n          <div className=\"booking-section1_row\">\r\n            <div className=\"booking-section1_col1\">\r\n              <div className=\"white-box-radius\">\r\n                <div className=\"back\">\r\n                  <a\r\n                    onClick={() => {\r\n                      history.goBack();\r\n                    }}\r\n                  >\r\n                    {`<    Back`}\r\n                  </a>\r\n                </div>\r\n                {singleLead &&\r\n                  singleLead?.map((singleBooking) => {\r\n                    return (\r\n                      <>\r\n                        <div className=\"booking_status\">\r\n                          {userLeads?.map((res) =>\r\n                            res.id == singleBooking.id\r\n                              ? res.type == \"multiple\"\r\n                                ? res.status == \"completed\"\r\n                                  ? \"Completed\"\r\n                                  : res.status == \"open\"\r\n                                  ? \"Pending\"\r\n                                  : res.status == \"accept\"\r\n                                  ? \"Accepted\"\r\n                                  : res.status == \"active\"\r\n                                  ? \"Accepted\"\r\n                                  : \"\"\r\n                                : res.job_post.length > 0\r\n                                ? res.job_post.map((leads, i) =>\r\n                                    leads.dispute == 1 ? (\r\n                                      leads.user_status == \"completed\" ? (\r\n                                        <p>Completed</p>\r\n                                      ) : (\r\n                                        \"Disputed\"\r\n                                      )\r\n                                    ) : leads.provider_status == \"reject\" ? (\r\n                                      <p key={i}>Settled</p>\r\n                                    ) : leads.provider_status == \"accept\" ? (\r\n                                      \"Accepted\"\r\n                                    ) : leads.provider_status == \"completed\" ? (\r\n                                      \"Completed\"\r\n                                    ) : (\r\n                                      \"pending\"\r\n                                    )\r\n                                  )\r\n                                : \"\"\r\n                              : \"\"\r\n                          )}\r\n\r\n                          {userLeadHistory?.map((res) =>\r\n                            res.id == singleBooking.id\r\n                              ? res.type == \"multiple\"\r\n                                ? res.status == \"completed\"\r\n                                  ? \"Completed\"\r\n                                  : res.status == \"open\"\r\n                                  ? \"Pending\"\r\n                                  : res.status == \"accept\"\r\n                                  ? \"Accepted\"\r\n                                  : res.status == \"active\"\r\n                                  ? \"Accepted\"\r\n                                  : \"Pending\"\r\n                                : res.job_post.length > 0\r\n                                ? res.job_post.map((leads, i) =>\r\n                                    leads.dispute == 1 ? (\r\n                                      leads.user_status == \"completed\" ? (\r\n                                        <p>Completed</p>\r\n                                      ) : (\r\n                                        \"Disputed\"\r\n                                      )\r\n                                    ) : leads.provider_status == \"reject\" ? (\r\n                                      <p key={i}>Settled</p>\r\n                                    ) : leads.provider_status == \"accept\" ? (\r\n                                      \"Accepted\"\r\n                                    ) : leads.provider_status == \"completed\" ? (\r\n                                      \"Completed\"\r\n                                    ) : (\r\n                                      \"pending\"\r\n                                    )\r\n                                  )\r\n                                : \"\"\r\n                              : \"\"\r\n                          )}\r\n                        </div>\r\n                        <div\r\n                          className=\"booking_status_title\"\r\n                          style={{ textTransform: \"capitalize\" }}\r\n                        >\r\n                          {singleBooking.title}\r\n                        </div>\r\n                        <div className=\"booking_status_date\">\r\n                          {moment(singleBooking.time, [\"HH.mm.ss\"]).format(\r\n                            \"hh:mm A\"\r\n                          )}{\" \"}\r\n                          on {moment(singleBooking.date).format(\"ll\")}\r\n                        </div>\r\n                        <div className=\"booking_status_service\">\r\n                          Service Type\r\n                        </div>\r\n                        <div className=\"booking_status_service_list\">\r\n                          {selectedRadieType(singleBooking.tradie_type)}\r\n                        </div>\r\n                        <div className=\"booking_status_job_desc\">\r\n                          Job Description\r\n                        </div>\r\n                        <div className=\"booking_status_job_desc_list\">\r\n                          {singleBooking.detail}\r\n                        </div>\r\n\r\n                        <div className=\"booking_status_service_delete\">\r\n                          {singleBooking?.job_post?.length <= 1 ? (\r\n                            singleBooking?.job_post?.map((singleTradie) =>\r\n                              singleTradie.provider_status == \"accept\" ? (\r\n                                \"\"\r\n                              ) : singleTradie.provider_status ==\r\n                                \"completed\" ? (\r\n                                \"\"\r\n                              ) : singleTradie.provider_status == \"accept\" &&\r\n                                singleTradie.user_status != \"reject\" ? (\r\n                                <button\r\n                                  style={{ cursor: \"pointer\" }}\r\n                                  onClick={() => {\r\n                                    handleDeleteJob(singleBooking.id);\r\n                                  }}\r\n                                >\r\n                                  Delete This Job\r\n                                </button>\r\n                              ) : (\r\n                                <button\r\n                                  style={{ cursor: \"pointer\" }}\r\n                                  onClick={() => {\r\n                                    handleDeleteJob(singleBooking.id);\r\n                                  }}\r\n                                >\r\n                                  Delete This Job\r\n                                </button>\r\n                              )\r\n                            )\r\n                          ) : (\r\n                            <button\r\n                              style={{ cursor: \"pointer\" }}\r\n                              onClick={() => {\r\n                                handleDeleteJob(singleBooking.id);\r\n                              }}\r\n                            >\r\n                              Delete This Job\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </>\r\n                    );\r\n                  })}\r\n              </div>\r\n            </div>\r\n            <div className=\"booking-section1_col2\">\r\n              <h4>List All Tradie</h4>\r\n              <div className=\"booking-section1_inner_row\">\r\n                {singleLead &&\r\n                  singleLead?.map((singleBooking) => {\r\n                    return singleBooking?.job_post?.map((singleTradie) => {\r\n                      return (\r\n                        <>\r\n                          <div className=\"booking-section1_col3\">\r\n                            <div className=\"list-box\">\r\n                              <div className=\"list-box_img_sec\">\r\n                                <div className=\"list-box_img\">\r\n                                  <img\r\n                                    className=\"img1\"\r\n                                    src={\r\n                                      singleTradie.profile_pic\r\n                                        ? `https://api.tapatradie.com/profile/${singleTradie.id}/` +\r\n                                          singleTradie.profile_pic\r\n                                        : \"/static/media/user.8d49e377.png\"\r\n                                    }\r\n                                    alt=\"\"\r\n                                  />\r\n                                  <img\r\n                                    className=\"img2\"\r\n                                    src=\"http://sample.jploftsolutions.in/tapImages/creator-icon.svg\"\r\n                                    alt=\"\"\r\n                                  />\r\n                                </div>\r\n                                <span className=\"list-box_online\">\r\n                                  {singleTradie.online === 1\r\n                                    ? \"Online\"\r\n                                    : \"Offline\"}\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"list-box_detail\">\r\n                                <h3>{singleTradie.full_name}</h3>\r\n                                <div className=\"list-box_detail_img\">\r\n                                  <StarRatings\r\n                                    rating={\r\n                                      singleTradie.rating\r\n                                        ? Math.round(\r\n                                            Number(singleTradie.rating) * 10\r\n                                          ) / 10\r\n                                        : 0\r\n                                    }\r\n                                    starRatedColor=\"orange\"\r\n                                    numberOfStars={5}\r\n                                    name=\"rating\"\r\n                                    starSpacing=\"1px\"\r\n                                    starDimension=\"17px\"\r\n                                  />\r\n                                </div>\r\n\r\n                                {/* <p>Review: {singleTradie.review}</p> */}\r\n                                <p>{singleBooking.service_name}</p>\r\n                                {\r\n                                  (singleBooking.type = \"multiple\" ? (\r\n                                    singleBooking.job_post.length > 1 ? (\r\n                                      singleTradie.provider_status ==\r\n                                      \"accept\" ? (\r\n                                        singleTradie.user_status == \"reject\" ? (\r\n                                          \"\"\r\n                                        ) : singleTradie.user_status ==\r\n                                          \"accept\" ? (\r\n                                          \"\"\r\n                                        ) : (\r\n                                          <>\r\n                                            <IoMdCloudDone\r\n                                              size={22}\r\n                                              style={{ color: \"green\" }}\r\n                                              onClick={(e) =>\r\n                                                acceptProvider(singleTradie)\r\n                                              }\r\n                                            />\r\n                                            {\"  \"} &nbsp;\r\n                                            <MdOutlineCancel\r\n                                              size={22}\r\n                                              style={{ color: \"red\" }}\r\n                                              onClick={() =>\r\n                                                rejectProvider(singleTradie)\r\n                                              }\r\n                                            />{\" \"}\r\n                                          </>\r\n                                        )\r\n                                      ) : null\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )\r\n                                  ) : null)\r\n                                }\r\n                                {/* <button\r\n                                  style={{ cursor: \"pointer\" }}\r\n                                  onClick={() => {\r\n                                    handleDeleteTradie(\r\n                                      singleTradie.job_post_id,\r\n                                      singleTradie.provider_id,\r\n                                      singleTradie.uid,\r\n                                      singleTradie.type\r\n                                    );\r\n                                  }}\r\n                                >\r\n                                  <div>\r\n                                    <img\r\n                                      src=\"http://78.46.210.25/tapatradieweb/assets/images/round-icon-delete.svg\"\r\n                                      alt=\"\"\r\n                                    />\r\n                                    <span>Remove</span>\r\n                                  </div>\r\n                                </button> */}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </>\r\n                      );\r\n                    });\r\n                  })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Footer />\r\n\r\n      {deletePopup && (\r\n        <DeleteTradie\r\n          setDeletePopup={setDeletePopup}\r\n          tradeDeleteData={tradeDeleteData}\r\n        />\r\n      )}\r\n\r\n      {deleteJobPopup && (\r\n        <DeleteJobPost\r\n          setDeleteJobPopup={setDeleteJobPopup}\r\n          deleteJobData={deleteJobData}\r\n          tradeDeleteData={tradeDeleteData}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}