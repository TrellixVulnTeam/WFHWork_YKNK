{"ast":null,"code":"import _objectSpread from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Select from\"react-select\";import*as Actions from\"../../redux/auth/action\";import{useDispatch,useSelector}from\"react-redux\";import{useForm}from\"react-hook-form\";import{countryListAlpha3}from\"./CountryList\";import{Redirect}from\"react-router\";import{useHistory}from\"react-router-dom\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/icon-cancelpopup.svg\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Pop1=function Pop1(){var dispatch=useDispatch();var history=useHistory();var Profile_Provider_Register_Action=Actions.Profile_Provider_Register_Action;var _useSelector=useSelector(function(state){return state.auth;}),login=_useSelector.login,verify_OTP=_useSelector.verify_OTP;if((verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)!==\"\"&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"provider\"&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.register_complete)===1){history.push(\"/\");}if((verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)!==\"\"&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.register_complete)===0){history.push(\"/tradie-popup-step2\");}var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.formState.errors;var _useState=useState({selectedOption:null}),_useState2=_slicedToArray(_useState,2),selectedCountry=_useState2[0],setSelectOption=_useState2[1];var selectedOption=selectedCountry.selectedOption;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),countryMsg=_useState4[0],setCountryMsg=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),formData=_useState6[0],setFormData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),redirectpop2=_useState8[0],setRedirectpop2=_useState8[1];var customStyles={control:function control(base,state){return _objectSpread(_objectSpread({},base),{},{border:\"1px solid lightgray\",\"&:hover\":{borderColor:\"gray\"}// border style on hover\n});},option:function option(provided,state){return _objectSpread(_objectSpread({},provided),{},{backgroundColor:state.isFocused?\"#dddddd\":\"#ffffff\",color:state.isSelected?\"black\":\"black\"});}};var handleChange=function handleChange(selectedOption){setSelectOption({selectedOption:selectedOption});};var onSubmit=function onSubmit(data){if(selectedCountry.selectedOption!==null){var datatoSend=_objectSpread(_objectSpread({},data),{},{country:selectedOption===null||selectedOption===void 0?void 0:selectedOption.label});setCountryMsg(false);dispatch(Profile_Provider_Register_Action(datatoSend));setRedirectpop2(true);}else{setCountryMsg(true);alert(\"Please select country\");}};var userInfo=JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));var fullname=userInfo.fullname,email=userInfo.email;/*   if (fullname !== \"\" && email !== \"\" && redirectpop2) {\r\n    return <Redirect to=\"/tradie-popup-step2\" />;\r\n  } */ // console.log(\"re rendering\");\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"user-info-modal popup\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Enter Your Details\",\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{marginBottom:\"1.8rem\"},children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"fullname\",{required:{value:true,message:\"Full name is required\"},minLength:{value:2,message:\"min value > 3\"}}))),/*#__PURE__*/_jsx(\"span\",{children:\"Full Name *\"})]}),errors.fullname&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",marginTop:\"-20px\"},children:errors.fullname.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",style:{marginBottom:\"1.8rem\"},children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"email\"},register(\"EmailAddress\",{required:{value:true,message:\"Email is required\"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,message:\"Enter Valid Email\"}}))),/*#__PURE__*/_jsx(\"span\",{children:\"Email\"})]}),errors.EmailAddress&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:errors.EmailAddress.message}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(Select,{value:selectedOption,onChange:handleChange,options:countryListAlpha3,isSearchable:true,placeholder:\"Select Country\",autoFocus:false,styles:customStyles})}),countryMsg?/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:\"Please select country\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\"},register(\"city\",{required:{value:true,message:\"Full name is required\"}}))),errors.city&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:errors.city.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",children:\"Get Started\"})]})})});};export default Pop1;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/tradieAllPopup/pop1.js"],"names":["React","useState","useEffect","Select","Actions","useDispatch","useSelector","useForm","countryListAlpha3","Redirect","useHistory","Pop1","dispatch","history","Profile_Provider_Register_Action","state","auth","login","verify_OTP","fullname","role","register_complete","push","register","handleSubmit","watch","errors","formState","selectedOption","selectedCountry","setSelectOption","countryMsg","setCountryMsg","formData","setFormData","redirectpop2","setRedirectpop2","customStyles","control","base","border","borderColor","option","provided","backgroundColor","isFocused","color","isSelected","handleChange","onSubmit","data","datatoSend","country","label","alert","userInfo","JSON","parse","localStorage","getItem","email","marginBottom","required","value","message","minLength","marginTop","pattern","EmailAddress","city"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport * as Actions from \"../../redux/auth/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { countryListAlpha3 } from \"./CountryList\";\r\nimport { Redirect } from \"react-router\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ReactComponent as Close } from \"../../assets/icons/icon-cancelpopup.svg\";\r\nconst Pop1 = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { Profile_Provider_Register_Action } = Actions;\r\n  const { login, verify_OTP } = useSelector((state) => state.auth);\r\n\r\n\r\n  if (\r\n    verify_OTP?.fullname !== \"\" &&\r\n    verify_OTP?.role === \"provider\" &&\r\n    verify_OTP?.register_complete === 1\r\n  ) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  if (\r\n    verify_OTP?.fullname !== \"\" &&\r\n    verify_OTP?.register_complete === 0\r\n  ) {\r\n    history.push(\"/tradie-popup-step2\");\r\n  }\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const [selectedCountry, setSelectOption] = useState({ selectedOption: null });\r\n  const { selectedOption } = selectedCountry;\r\n  const [countryMsg, setCountryMsg] = useState(false);\r\n  const [formData, setFormData] = useState();\r\n  const [redirectpop2, setRedirectpop2] = useState(false);\r\n  const customStyles = {\r\n    control: (base, state) => ({\r\n      ...base,\r\n      border: \"1px solid lightgray\",\r\n      \"&:hover\": { borderColor: \"gray\" }, // border style on hover\r\n    }),\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      backgroundColor: state.isFocused ? \"#dddddd\" : \"#ffffff\",\r\n      color: state.isSelected ? \"black\" : \"black\",\r\n    }),\r\n  };\r\n\r\n  const handleChange = (selectedOption) => {\r\n    setSelectOption({ selectedOption });\r\n  };\r\n  const onSubmit = (data) => {\r\n    if (selectedCountry.selectedOption !== null) {\r\n      const datatoSend = { ...data, country: selectedOption?.label };\r\n\r\n      setCountryMsg(false);\r\n      dispatch(Profile_Provider_Register_Action(datatoSend));\r\n      setRedirectpop2(true);\r\n    } else {\r\n      setCountryMsg(true);\r\n      alert(\"Please select country\");\r\n    }\r\n  };\r\n  let userInfo = JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));\r\n  const { fullname, email } = userInfo;\r\n\r\n  /*   if (fullname !== \"\" && email !== \"\" && redirectpop2) {\r\n    return <Redirect to=\"/tradie-popup-step2\" />;\r\n  } */\r\n\r\n  // console.log(\"re rendering\");\r\n  return (\r\n    <div>\r\n      <section className=\"user-info-modal popup\">\r\n        <form className=\"popup__form\" onSubmit={handleSubmit(onSubmit)}>\r\n          <h2>\r\n            Enter Your Details{\" \"}\r\n            {/* <span\r\n              onClick={(e) => {\r\n                e.target.parentElement.parentElement.parentElement.style.display =\r\n                  \"none\";\r\n                history.push(\"/tradie-my-profile\");\r\n              }}\r\n              className=\"Closesvg\"\r\n            >\r\n              <Close width=\"30px\" height=\"30px\" />\r\n            </span> */}\r\n          </h2>\r\n\r\n          <div className=\"input-group\" style={{ marginBottom: \"1.8rem\" }}>\r\n            <input\r\n              type=\"text\"\r\n              {...register(\"fullname\", {\r\n                required: { value: true, message: \"Full name is required\" },\r\n                minLength: { value: 2, message: \"min value > 3\" },\r\n              })}\r\n            />\r\n            <span>Full Name *</span>\r\n          </div>\r\n          {errors.fullname && (\r\n            <span style={{ color: \"red\", marginTop: \"-20px\" }}>\r\n              {errors.fullname.message}\r\n            </span>\r\n          )}\r\n          <br />\r\n\r\n          <div className=\"input-group\" style={{ marginBottom: \"1.8rem\" }}>\r\n            <input\r\n              type=\"email\"\r\n              {...register(\"EmailAddress\", {\r\n                required: { value: true, message: \"Email is required\" },\r\n                pattern: {\r\n                  value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n                  message: \"Enter Valid Email\",\r\n                },\r\n              })}\r\n            />\r\n            <span>Email</span>\r\n          </div>\r\n          {errors.EmailAddress && (\r\n            <span style={{ color: \"red\" }}>{errors.EmailAddress.message}</span>\r\n          )}\r\n          <br />\r\n\r\n          <div className=\"input-group\">\r\n            <Select\r\n              value={selectedOption}\r\n              onChange={handleChange}\r\n              options={countryListAlpha3}\r\n              isSearchable\r\n              placeholder=\"Select Country\"\r\n              autoFocus={false}\r\n              styles={customStyles}\r\n            />\r\n          </div>\r\n          {countryMsg ? (\r\n            <span style={{ color: \"red\" }}>Please select country</span>\r\n          ) : null}\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              {...register(\"city\", {\r\n                required: { value: true, message: \"Full name is required\" },\r\n              })}\r\n            />\r\n           {errors.city && (\r\n            <span style={{ color: \"red\" }}>{errors.city.message}</span>\r\n          )}\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn-primary\">\r\n            Get Started\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\nexport default Pop1;\r\n"]},"metadata":{},"sourceType":"module"}