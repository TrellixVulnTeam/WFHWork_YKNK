{"ast":null,"code":"import _toConsumableArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Header from\"../../components/Header\";import Footer from\"../../components/Footer\";import tradie_add_service_2 from\"../../assets/images/professional-tradie.jpg\";import NavigationLinks from\"../../components/Tradie Name/Index\";import*as Actions from\"../../redux/auth/action\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useHistory}from\"react-router-dom\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Section_top_1 from\"../../assets/icons/section-top-directory-before.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var Index=function Index(){var history=useHistory();var _useSelector=useSelector(function(state){return state.auth;}),getServiceList=_useSelector.getServiceList,SelectedServices=_useSelector.SelectedServices,userData=_useSelector.userData,selected_services=_useSelector.selected_services;var _useSelector2=useSelector(function(state){return state.auth;}),services=_useSelector2.services,businessUpdateres=_useSelector2.businessUpdateres;var name=services.name;var dispatch=useDispatch();var Get_Service_list_Action=Actions.Get_Service_list_Action,Provider_Asssign_Service_Action=Actions.Provider_Asssign_Service_Action,User_Profile_Get_Information_Action=Actions.User_Profile_Get_Information_Action;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),residential=_useState4[0],setResidential=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),commercial=_useState6[0],setCommercial=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tradie_type=_useState8[0],setTradie_type=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),removeItem=_useState10[0],setRemoveItem=_useState10[1];useEffect(function(){if(services){services===null||services===void 0?void 0:services.map(function(res){if(res.service_type==\"residential\"){setResidential(true);setTradie_type([\"residential\"]);}else if(res.service_type==\"commercial\"){setCommercial(true);setTradie_type([\"commercial\"]);}});}},[services]);var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),DataToSend=_useState12[0],setDataToSend=_useState12[1];useEffect(function(){dispatch(Get_Service_list_Action());dispatch(User_Profile_Get_Information_Action());},[]);var handleSearch=function handleSearch(e){setSearch(e.target.value);};var handleChange=function handleChange(data){var id=data.id;//check id already exist or not\nvar checkItem=DataToSend===null||DataToSend===void 0?void 0:DataToSend.some(function(item){return item===id;});if(!checkItem){setDataToSend(function(prevState){return[].concat(_toConsumableArray(prevState),[id]);});}services.filter(function(res){if(res.id===id){setRemoveItem([].concat(_toConsumableArray(removeItem),[res.id]));}else if(res.id!==id){console.log(\"REs :\",res.id);setDataToSend(function(prevState){return[].concat(_toConsumableArray(prevState),[res.id]);});}});//check unchecked condition removed\nif(checkItem){var filderItem=DataToSend===null||DataToSend===void 0?void 0:DataToSend.filter(function(item){return item!==id;});setDataToSend(filderItem);}};useEffect(function(){if(businessUpdateres){if(businessUpdateres.success==1){toast.success(businessUpdateres.message,{position:\"bottom-left\",autoClose:2000,size:\"small\"});setTimeout(function(){history.push(\"/tradie-service-location\");},2000);}else{toast.error(\"Something went wrong\",{position:\"bottom-left\",autoClose:2000,size:\"small\"});}}dispatch({type:\"BUSINESSS_DETAILS_UPDATE_SUCCESS\",payloade:\"\"});},[businessUpdateres]);var serachServicesTradie=function serachServicesTradie(){if(getServiceList!==null&&getServiceList!==void 0&&getServiceList.length){var getAllSErvce=getServiceList===null||getServiceList===void 0?void 0:getServiceList.filter(function(val){if(search===\"\"){return val;}else if(val.name.toLowerCase().includes(search===null||search===void 0?void 0:search.toLowerCase())){return val;}}).map(function(val){return/*#__PURE__*/_jsxs(\"label\",{className:\"container\",style:{textTransform:\"capitalize\"},children:[val.name,/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:services.find(function(res){return res.id==val.id;}),onChange:function onChange(e){return handleChange(val);}}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsx(\"hr\",{})]},val.id);});return getAllSErvce.length>0?getAllSErvce:/*#__PURE__*/_jsx(\"center\",{children:\"No Category Found\"});}};var handleTradieType=function handleTradieType(tradieType){if(tradieType===\"residential\"&&residential===false){setResidential(true);setTradie_type([].concat(_toConsumableArray(tradie_type),[tradieType]));}else if(tradieType===\"residential\"&&residential===true){var data=tradie_type.filter(function(item){return item!==tradieType;});setTradie_type(data);setResidential(false);}else if(tradieType===\"commercial\"&&commercial===false){setCommercial(true);setTradie_type([].concat(_toConsumableArray(tradie_type),[tradieType]));}else if(tradieType===\"commercial\"&&commercial===true){var _data=tradie_type.filter(function(item){return item!==tradieType;});setTradie_type(_data);setCommercial(false);}};var submitTradieService=function submitTradieService(e){e.preventDefault();var dataSend={serviceIdRole:DataToSend.toString(),role:tradie_type.toString(),remove_services:removeItem.toString()};dispatch(Provider_Asssign_Service_Action(dataSend));};var Back=function Back(){history.goBack();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"section\",{className:\"directory-top-section section-top--tradie-my-profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-top__before\",children:/*#__PURE__*/_jsx(\"img\",{src:Section_top_1,alt:\"\"})}),/*#__PURE__*/_jsxs(\"h2\",{className:\"section-top__title\",children:[\"My \",/*#__PURE__*/_jsx(\"span\",{children:\"Profile\"})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"section section--tradie-my-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tradie-my-profile\",children:[/*#__PURE__*/_jsx(NavigationLinks,{}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",className:\"tradie-my-profile__form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Additional Service Information \"}),/*#__PURE__*/_jsx(\"label\",{className:\"m-b-1\",children:\"Search your business category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{value:search,onChange:function onChange(e){handleSearch(e);},className:\"w-100 additional-service-information\",type:\"text\",placeholder:\"Search for a Category\"})}),/*#__PURE__*/_jsx(\"label\",{className:\"m-b-1\",children:\"Select your service type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group residential-commercial\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){handleTradieType(\"residential\");},className:residential?\"on residential-btn\":\"residential-btn\",children:\"Residential\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){handleTradieType(\"commercial\");},className:commercial?\"on residential-btn\":\"residential-btn\",children:\"Commercial\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"m-b-1\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-1\",children:serachServicesTradie()}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mb-1\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"container text-others\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-others\",onClick:Back,style:{cursor:\"pointer\"},children:\"Back\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-others\"}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group btn\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn-primary\",onClick:function onClick(e){submitTradieService(e);},value:\"Save\",style:{float:\"right\"}})})]})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"section section--left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"professional-tradie\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"professional-tradie__description\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"professional-tradie__title\",children:\"Are you a Professional Tradie?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"If you would like to be part of our Tradie community and are ready to meet new clients today please continue so we can welcome you onboard.\"}),/*#__PURE__*/_jsx(Link,{to:\"/about-us\",className:\"btn-primary\",children:\"Learn More\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"professional-tradie__image\",children:/*#__PURE__*/_jsx(\"img\",{src:tradie_add_service_2,alt:\"\"})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Index;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/TradieAdditionalServices/index.js"],"names":["React","useState","useEffect","Header","Footer","tradie_add_service_2","NavigationLinks","Actions","useDispatch","useSelector","Link","useHistory","toast","configure","Index","history","state","auth","getServiceList","SelectedServices","userData","selected_services","services","businessUpdateres","name","dispatch","Get_Service_list_Action","Provider_Asssign_Service_Action","User_Profile_Get_Information_Action","search","setSearch","residential","setResidential","commercial","setCommercial","tradie_type","setTradie_type","removeItem","setRemoveItem","map","res","service_type","DataToSend","setDataToSend","handleSearch","e","target","value","handleChange","data","id","checkItem","some","item","prevState","filter","console","log","filderItem","success","message","position","autoClose","size","setTimeout","push","error","type","payloade","serachServicesTradie","length","getAllSErvce","val","toLowerCase","includes","textTransform","find","handleTradieType","tradieType","submitTradieService","preventDefault","dataSend","serviceIdRole","toString","role","remove_services","Back","goBack","Section_top_1","cursor","float"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\n\r\nimport tradie_add_service_2 from \"../../assets/images/professional-tradie.jpg\";\r\nimport NavigationLinks from \"../../components/Tradie Name/Index\";\r\nimport * as Actions from \"../../redux/auth/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Section_top_1 from \"../../assets/icons/section-top-directory-before.svg\";\r\n\r\ntoast.configure();\r\n\r\nconst Index = () => {\r\n  const history = useHistory();\r\n  const { getServiceList, SelectedServices, userData, selected_services } =\r\n    useSelector((state) => state.auth);\r\n\r\n  const { services, businessUpdateres } = useSelector((state) => state.auth);\r\n  const { name } = services;\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    Get_Service_list_Action,\r\n    Provider_Asssign_Service_Action,\r\n    User_Profile_Get_Information_Action,\r\n  } = Actions;\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const [residential, setResidential] = useState(false);\r\n  const [commercial, setCommercial] = useState(false);\r\n  const [tradie_type, setTradie_type] = useState([]);\r\n  const [removeItem, setRemoveItem] = useState([]);\r\n  useEffect(() => {\r\n    if (services) {\r\n      services?.map((res) => {\r\n        if (res.service_type == \"residential\") {\r\n          setResidential(true);\r\n          setTradie_type([\"residential\"]);\r\n        } else if (res.service_type == \"commercial\") {\r\n          setCommercial(true);\r\n          setTradie_type([\"commercial\"]);\r\n        }\r\n      });\r\n    }\r\n  }, [services]);\r\n  const [DataToSend, setDataToSend] = useState([]);\r\n  useEffect(() => {\r\n    dispatch(Get_Service_list_Action());\r\n    dispatch(User_Profile_Get_Information_Action());\r\n  }, []);\r\n\r\n  const handleSearch = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const handleChange = (data) => {\r\n    const { id } = data;\r\n\r\n    //check id already exist or not\r\n    const checkItem = DataToSend?.some((item) => item === id);\r\n\r\n    if (!checkItem) {\r\n      setDataToSend((prevState) => [...prevState, id]);\r\n    }\r\n    services.filter((res) => {\r\n      if (res.id === id) {\r\n        setRemoveItem([...removeItem, res.id]);\r\n      } else if (res.id !== id) {\r\n        console.log(\"REs :\", res.id);\r\n        setDataToSend((prevState) => [...prevState, res.id]);\r\n      }\r\n    });\r\n\r\n    //check unchecked condition removed\r\n    if (checkItem) {\r\n      const filderItem = DataToSend?.filter((item) => item !== id);\r\n\r\n      setDataToSend(filderItem);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (businessUpdateres) {\r\n      if (businessUpdateres.success == 1) {\r\n        toast.success(businessUpdateres.message, {\r\n          position: \"bottom-left\",\r\n          autoClose: 2000,\r\n          size: \"small\",\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/tradie-service-location\");\r\n        }, 2000);\r\n      } else {\r\n        toast.error(\"Something went wrong\", {\r\n          position: \"bottom-left\",\r\n          autoClose: 2000,\r\n          size: \"small\",\r\n        });\r\n      }\r\n    }\r\n\r\n    dispatch({ type: \"BUSINESSS_DETAILS_UPDATE_SUCCESS\", payloade: \"\" });\r\n  }, [businessUpdateres]);\r\n\r\n  const serachServicesTradie = () => {\r\n    if (getServiceList?.length) {\r\n      const getAllSErvce = getServiceList\r\n        ?.filter((val) => {\r\n          if (search === \"\") {\r\n            return val;\r\n          } else if (val.name.toLowerCase().includes(search?.toLowerCase())) {\r\n            return val;\r\n          }\r\n        })\r\n        .map((val) => {\r\n          return (\r\n            <label\r\n              className=\"container\"\r\n              style={{ textTransform: \"capitalize\" }}\r\n              key={val.id}\r\n            >\r\n              {val.name}\r\n              {/* {services?.map((res) => ( */}\r\n              <input\r\n                type=\"checkbox\"\r\n                defaultChecked={services.find((res) => res.id == val.id)}\r\n                onChange={(e) => handleChange(val)}\r\n              />\r\n              {/* ))} */}\r\n              <span className=\"checkmark\" />\r\n\r\n              <hr />\r\n            </label>\r\n          );\r\n        });\r\n      return getAllSErvce.length > 0 ? (\r\n        getAllSErvce\r\n      ) : (\r\n        <center>No Category Found</center>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleTradieType = (tradieType) => {\r\n    if (tradieType === \"residential\" && residential === false) {\r\n      setResidential(true);\r\n      setTradie_type([...tradie_type, tradieType]);\r\n    } else if (tradieType === \"residential\" && residential === true) {\r\n      const data = tradie_type.filter(function (item) {\r\n        return item !== tradieType;\r\n      });\r\n      setTradie_type(data);\r\n\r\n      setResidential(false);\r\n    } else if (tradieType === \"commercial\" && commercial === false) {\r\n      setCommercial(true);\r\n      setTradie_type([...tradie_type, tradieType]);\r\n    } else if (tradieType === \"commercial\" && commercial === true) {\r\n      const data = tradie_type.filter(function (item) {\r\n        return item !== tradieType;\r\n      });\r\n      setTradie_type(data);\r\n      setCommercial(false);\r\n    }\r\n  };\r\n  const submitTradieService = (e) => {\r\n    e.preventDefault();\r\n\r\n    const dataSend = {\r\n      serviceIdRole: DataToSend.toString(),\r\n      role: tradie_type.toString(),\r\n      remove_services: removeItem.toString(),\r\n    };\r\n\r\n    dispatch(Provider_Asssign_Service_Action(dataSend));\r\n  };\r\n  const Back = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <div>\r\n      <Header />\r\n\r\n      {/* <!-- My Profile--> */}\r\n      <section className=\"directory-top-section section-top--tradie-my-profile\">\r\n        <div className=\"section-top__before\">\r\n          <img src={Section_top_1} alt=\"\" />\r\n        </div>\r\n        <h2 className=\"section-top__title\">\r\n          My <span>Profile</span>\r\n        </h2>\r\n      </section>\r\n\r\n      <section className=\"section section--tradie-my-profile\">\r\n        <div className=\"tradie-my-profile\">\r\n          <NavigationLinks />\r\n          <form action=\"#\" className=\"tradie-my-profile__form\">\r\n            <h4>Additional Service Information </h4>\r\n\r\n            <label className=\"m-b-1\">Search your business category</label>\r\n            <div className=\"input-group\">\r\n              <input\r\n                value={search}\r\n                onChange={(e) => {\r\n                  handleSearch(e);\r\n                }}\r\n                className=\"w-100 additional-service-information\"\r\n                type=\"text\"\r\n                placeholder=\"Search for a Category\"\r\n              />\r\n            </div>\r\n            <label className=\"m-b-1\">Select your service type</label>\r\n            <div className=\"input-group residential-commercial\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  handleTradieType(\"residential\");\r\n                }}\r\n                className={\r\n                  residential ? \"on residential-btn\" : \"residential-btn\"\r\n                }\r\n              >\r\n                Residential\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  handleTradieType(\"commercial\");\r\n                }}\r\n                className={\r\n                  commercial ? \"on residential-btn\" : \"residential-btn\"\r\n                }\r\n              >\r\n                Commercial\r\n              </button>\r\n            </div>\r\n            <label className=\"m-b-1\">All Categories</label>\r\n            <div className=\"input-group mb-1\">\r\n              {serachServicesTradie()}\r\n              {/* {getServiceList && getServiceList.map((servericeItem) => (\r\n                <label className=\"container\" style={{ textTransform: \"capitalize\" }}>\r\n                  {servericeItem.name}\r\n                  <input type=\"checkbox\" />\r\n                  <span className=\"checkmark\" />\r\n                  <hr />\r\n                </label>\r\n              ))} */}\r\n            </div>\r\n\r\n            <div className=\"input-group mb-1\">\r\n              <label className=\"container text-others\">\r\n                <a\r\n                  className=\"text-others\"\r\n                  onClick={Back}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Back\r\n                </a>\r\n                <input type=\"text\" />\r\n                <span className=\"text-others\" />\r\n                <hr />\r\n              </label>\r\n            </div>\r\n\r\n            <div className=\"input-group btn\">\r\n              <input\r\n                type=\"submit\"\r\n                className=\"btn-primary\"\r\n                onClick={(e) => {\r\n                  submitTradieService(e);\r\n                }}\r\n                value=\"Save\"\r\n                style={{ float: \"right\" }}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </section>\r\n\r\n      {/* // <!-- Are you a Professional Tradie? --> */}\r\n      {/* {userData.access === \"provider\" ? (\r\n        \"\"\r\n      ) : ( */}\r\n      <section className=\"section section--left\">\r\n        <div className=\"professional-tradie\">\r\n          <div className=\"professional-tradie__description\">\r\n            <h3 className=\"professional-tradie__title\">\r\n              Are you a Professional Tradie?\r\n            </h3>\r\n            <p>\r\n              If you would like to be part of our Tradie community and are ready\r\n              to meet new clients today please continue so we can welcome you\r\n              onboard.\r\n            </p>\r\n            <Link to=\"/about-us\" className=\"btn-primary\">\r\n              Learn More\r\n            </Link>\r\n          </div>\r\n          <div className=\"professional-tradie__image\">\r\n            <img src={tradie_add_service_2} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      </section>\r\n      {/* )} */}\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}