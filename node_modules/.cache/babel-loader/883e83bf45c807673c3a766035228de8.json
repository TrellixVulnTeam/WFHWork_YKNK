{"ast":null,"code":"import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import OTPInput,{ResendOTP}from\"otp-input-react\";import{useDispatch,useSelector}from\"react-redux\";import*as Actions from\"../../redux/auth/action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignupPopup=function SignupPopup(props){var Dispatch=useDispatch();var verify_otp_Action=Actions.verify_otp_Action,updateAccessToken_Action=Actions.updateAccessToken_Action,Reset_Login_Otp_Action=Actions.Reset_Login_Otp_Action;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),OTP=_useState2[0],setOTP=_useState2[1];var _useState3=useState(props),_useState4=_slicedToArray(_useState3,1),propsState=_useState4[0];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),invalidOptpMessage=_useState6[0],setInvalidOptpMessage=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),fillBoxesMsg=_useState8[0],setFillBoxesMsg=_useState8[1];var state=useSelector(function(state){return state.auth.verify_OTP;});var sendNumberLogin=function sendNumberLogin(){setInvalidOptpMessage(false);if(OTP.length<=3){setFillBoxesMsg(true);}else{Dispatch(updateAccessToken_Action());Dispatch(verify_otp_Action({otpcode:OTP,mobileNumber:\"\".concat(props.mobileNumber),tab:props.btnTab?\"provider\":\"user\"}));setInvalidOptpMessage(true);props.setnamePopup(true);}};var resendOTP=function resendOTP(evt){var countryCode=propsState.countryCode,mobileNumber=propsState.mobileNumber,btnTab=propsState.btnTab;Dispatch(Reset_Login_Otp_Action({countryCode:countryCode,mobileNumber:mobileNumber,tab:btnTab?\"provider\":\"user\"}));};var message=state.message;return/*#__PURE__*/_jsx(\"div\",{className:\"otp_popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"otp_popup__box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"otp_popup__close_icon\",onClick:props.handleClose,children:\"x\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"otp_popup__heading\",children:\"Enter Verification code\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"otp_popup__paragraph\",children:[\"We have sent you a 4 digit verification Code on \",\"\",/*#__PURE__*/_jsxs(\"span\",{children:[props.countryCode,\" \",props.mobileNumber]})]}),/*#__PURE__*/_jsx(OTPInput,{value:OTP,onChange:setOTP,autoFocus:true,OTPLength:4,otpType:\"number\",disabled:false,maxTime:30,className:\"OTPInput\"}),fillBoxesMsg===true?/*#__PURE__*/_jsx(\"p\",{className:\"otp_popup__msg\",children:\"Please fill all boxes\"}):null,message===\"Invalid Otp.\"&&invalidOptpMessage===true?/*#__PURE__*/_jsxs(\"p\",{className:\"otp_popup__msg\",style:{color:\"red\"},children:[message,\" Try again\"]}):null,/*#__PURE__*/_jsx(\"button\",{className:\"otp_popup__submit\",onClick:sendNumberLogin,children:\"Submit\"}),/*#__PURE__*/_jsx(ResendOTP,{maxTime:30,onResendClick:resendOTP,style:{marginTop:\"26px\",background:\"#f5f5f5\"},className:\"resendOTP\"})]})});};export default SignupPopup;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/LogIn/login_verification_popop.js"],"names":["React","useState","OTPInput","ResendOTP","useDispatch","useSelector","Actions","SignupPopup","props","Dispatch","verify_otp_Action","updateAccessToken_Action","Reset_Login_Otp_Action","OTP","setOTP","propsState","invalidOptpMessage","setInvalidOptpMessage","fillBoxesMsg","setFillBoxesMsg","state","auth","verify_OTP","sendNumberLogin","length","otpcode","mobileNumber","tab","btnTab","setnamePopup","resendOTP","evt","countryCode","message","handleClose","color","marginTop","background"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport OTPInput, { ResendOTP } from \"otp-input-react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as Actions from \"../../redux/auth/action\";\r\n\r\nconst SignupPopup = (props) => {\r\n  const Dispatch = useDispatch();\r\n  const {\r\n    verify_otp_Action,\r\n    updateAccessToken_Action,\r\n    Reset_Login_Otp_Action,\r\n  } = Actions;\r\n  const [OTP, setOTP] = useState(\"\");\r\n  const [propsState] = useState(props);\r\n  const [invalidOptpMessage, setInvalidOptpMessage] = useState(false);\r\n  const [fillBoxesMsg, setFillBoxesMsg] = useState(false);\r\n  const state = useSelector((state) => state.auth.verify_OTP);\r\n  const sendNumberLogin = () => {\r\n    setInvalidOptpMessage(false);\r\n    if (OTP.length <= 3) {\r\n      setFillBoxesMsg(true);\r\n    } else {\r\n      Dispatch(updateAccessToken_Action());\r\n      Dispatch(\r\n        verify_otp_Action({\r\n          otpcode: OTP,\r\n          mobileNumber: `${props.mobileNumber}`,\r\n          tab: props.btnTab ? \"provider\" : \"user\",\r\n        })\r\n      );\r\n      setInvalidOptpMessage(true);\r\n      props.setnamePopup(true);\r\n    }\r\n  };\r\n  const resendOTP = (evt) => {\r\n    const { countryCode, mobileNumber, btnTab } = propsState;\r\n    Dispatch(\r\n      Reset_Login_Otp_Action({\r\n        countryCode: countryCode,\r\n        mobileNumber: mobileNumber,\r\n        tab: btnTab ? \"provider\" : \"user\",\r\n      })\r\n    );\r\n  };\r\n  const { message } = state;\r\n\r\n  return (\r\n    <div className=\"otp_popup\">\r\n      <div className=\"otp_popup__box\">\r\n        <span className=\"otp_popup__close_icon\" onClick={props.handleClose}>\r\n          x\r\n        </span>\r\n        <h4 className=\"otp_popup__heading\">Enter Verification code</h4>\r\n        <p className=\"otp_popup__paragraph\">\r\n          We have sent you a 4 digit verification Code on {\"\"}\r\n          <span>\r\n            {props.countryCode} {props.mobileNumber}\r\n          </span>\r\n        </p>\r\n\r\n        <OTPInput\r\n          value={OTP}\r\n          onChange={setOTP}\r\n          autoFocus\r\n          OTPLength={4}\r\n          otpType=\"number\"\r\n          disabled={false}\r\n          maxTime={30}\r\n          className=\"OTPInput\"\r\n        />\r\n        {fillBoxesMsg === true ? (\r\n          <p className=\"otp_popup__msg\">Please fill all boxes</p>\r\n        ) : null}\r\n        {message === \"Invalid Otp.\" && invalidOptpMessage === true ? (\r\n          <p className=\"otp_popup__msg\" style={{ color: \"red\" }}>\r\n            {message} Try again\r\n          </p>\r\n        ) : null}\r\n        {/* if condtn reducr data coming fill box not show */}\r\n        <button className=\"otp_popup__submit\" onClick={sendNumberLogin}>\r\n          Submit\r\n        </button>\r\n        <ResendOTP\r\n          maxTime={30}\r\n          onResendClick={resendOTP}\r\n          style={{\r\n            marginTop: \"26px\",\r\n            background: \"#f5f5f5\",\r\n          }}\r\n          className=\"resendOTP\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPopup;\r\n"]},"metadata":{},"sourceType":"module"}