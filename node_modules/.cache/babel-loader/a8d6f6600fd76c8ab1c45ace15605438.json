{"ast":null,"code":"import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import*as Actions from\"../../redux/auth/action\";import{countries_code}from\"../../constants/countries_code\";import HeaderLogo from\"../../assets/images/header-logo.svg\";import HeaderLogoMob from\"../../assets/images/mobile-logo.svg\";// import dailingCode64 from \"../../assets/icons/dailing-code_64.svg\";\nimport spriteIconFacebook from\"../../assets/icons/sprite_icon_facebook.svg\";import photoOne from\"../../assets/images/photo-1546552356-3fae876a61ca.jpeg\";import photoTwo from\"../../assets/images/asian-plumber-blue-overalls-clearing-blockage-drain_1098-17773.jpg\";import photoThree from\"../../assets/images/photo-1581141849291-1125c7b692b5.jpeg\";import photoFour from\"../../assets/images/construction-worker-with-hard-hat-sanding-down-wood-piece_23-2148748860.jpg\";import photoFive from\"../../assets/images/photo-1574757987642-5755f0839101.jpeg\";import SignupPopup from\"./signup-verification_popup.js\";import FacebookLogin from\"react-facebook-login\";import Modal from\"../../components/UserSignupModal\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useHistory,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";toast.configure();var Index=function Index(){var history=useHistory();var location=useLocation();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),btnTab=_useState2[0],setBtnTab=_useState2[1];var _useState3=useState(\"+61\"),_useState4=_slicedToArray(_useState3,2),countryCode=_useState4[0],setCountryCode=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),mobileNumber=_useState6[0],setMobileNumber=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOpen=_useState8[0],setIsOpen=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),namePopup=_useState10[0],setnamePopup=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isValidationMessage=_useState12[0],setIsValidationMessage=_useState12[1];var _useSelector=useSelector(function(state){return state.auth;}),otp=_useSelector.otp,loading=_useSelector.loading,success=_useSelector.success,login=_useSelector.login,verify_OTP=_useSelector.verify_OTP,otp_stateReg=_useSelector.otp_stateReg,otp_stateSignup=_useSelector.otp_stateSignup;useEffect(function(){if(login&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"provider\"){history.push(\"/tradie-popup-step1\");}if((verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)!==\"\"&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.role)===\"user\"){history.push(\"/user-profile\");}/*     if (login && verify_OTP?.role === \"\") {\r\n          history.push(\"/\");\r\n        } */},[login,verify_OTP]);var togglePopup=function togglePopup(){setIsOpen(!isOpen);};var Dispatch=useDispatch();var updateAccessToken_Action=Actions.updateAccessToken_Action,otpRegister_Action=Actions.otpRegister_Action,faceBookLogin_Action=Actions.faceBookLogin_Action,otp_StateReg_Change_Action=Actions.otp_StateReg_Change_Action;var responseFacebook=function responseFacebook(response){Dispatch(faceBookLogin_Action({facebook_id:response.id,tab:btnTab?\"provider\":\"user\"}));};var componentClicked=function componentClicked(data){console.warn(\"data\",data);};var handleSubmit=function handleSubmit(e){if(countryCode==\"\"){toast.error(\"Please fill Country code\",{position:\"bottom-left\",autoClose:2000,size:\"small\"});}else if(!countryCode.match(/^(\\+?\\d{1,3}|\\d{1,4})$/g)){toast.error(\"Please fill valid Country code\",{position:\"bottom-left\",autoClose:2000,size:\"small\"});}else{Dispatch(updateAccessToken_Action());Dispatch(otpRegister_Action({countryCode:\"\".concat(Number(countryCode)),mobileNumber:\"\".concat(mobileNumber),tab:btnTab?\"provider\":\"user\"}));setIsOpen(true);}};var handleMobileNo=function handleMobileNo(e){if(e.target.value.length<=9){setIsValidationMessage(true);}if(e.target.value.length>=9){setIsValidationMessage(false);Dispatch(otp_StateReg_Change_Action(true));}if(e.target.value.length<=10){setMobileNumber(e.target.value);Dispatch(otp_StateReg_Change_Action(true));}};if(location.pathname===\"/sign-up\"&&!otp_stateReg&&mobileNumber===\"\"){Dispatch(otp_StateReg_Change_Action(true));}var Back=function Back(){history.goBack();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"section section--sign-up\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__left\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"nav\",children:[/*#__PURE__*/_jsxs(Link,{className:\"nav__left\",to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"nav__logo\",src:HeaderLogo,title:\"header-logo\",alt:\"header-logo\"}),/*#__PURE__*/_jsx(\"img\",{className:\"nav__logo--md\",src:HeaderLogoMob,hidden:true,title:\"header-logo-mob\",alt:\"header-logo-mob\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:Back,style:{cursor:\"pointer\"},className:\" btn-primary\",children:\"Back\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"section__title sign-up__title\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sign-up__description\",children:\"Welcome, We are excited to have you onboard. Please sign up to continue.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sign-up-form__navigation\",children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"button\",{className:btnTab?\"active\":\"\",onClick:function onClick(){setBtnTab(true);},children:\"As Tradie\"}),/*#__PURE__*/_jsx(\"button\",{className:!btnTab?\"active\":\"\",onClick:function onClick(){setBtnTab(false);},children:\"As User\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__mobile\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__inputs\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"mobile-number\",children:countries_code.map(function(country){if(country.id===countryCode){return country.flag;}})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"sign-up-form__country-code\",value:countryCode,onChange:function onChange(e){setCountryCode(e.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"sign-up-form__mobile-number\",id:\"mobile-number\",placeholder:\"Enter your mobile number\",value:mobileNumber,min:\"0\",onChange:function onChange(e){handleMobileNo(e);},required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up-form__error_msg\",children:/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\" \",isValidationMessage?\"Please Enter 9 to 10 digits number\":\"\",otp_stateSignup?\"Already user exist\":\"\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"sign-up-form__submit btn-primary\",onClick:handleSubmit,disabled:mobileNumber.length<9,children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__or\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"OR\"}),/*#__PURE__*/_jsx(FacebookLogin,{appId:\"3141633349249902\",autoLoad:false,icon:/*#__PURE__*/_jsx(\"img\",{src:spriteIconFacebook,alt:\"kj\"}),textButton:\"Continue with Facebook\",fields:\"name,email,picture\",onClick:componentClicked,callback:responseFacebook})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up-form__sign-in\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You have already account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Sign In \"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoOne,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoTwo,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up__right-column sign-up__right-column--center\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoThree,alt:\"\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up__right-column\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoFour,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:photoFive,alt:\"\"})})]})]})]})}),isOpen&&otp?/*#__PURE__*/_jsx(SignupPopup,{handleClose:togglePopup,countryCode:countryCode,mobileNumber:mobileNumber,btnTab:btnTab,setnamePopup:setnamePopup}):null,login&&(verify_OTP===null||verify_OTP===void 0?void 0:verify_OTP.fullname)===\"\"&&namePopup?/*#__PURE__*/_jsx(Modal,{setnamePopup:setnamePopup}):null]});};export default Index;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/SignUp/index.js"],"names":["React","useEffect","useState","Link","useDispatch","useSelector","Actions","countries_code","photoOne","photoTwo","photoThree","photoFour","photoFive","SignupPopup","FacebookLogin","Modal","toast","useHistory","useLocation","configure","Index","history","location","btnTab","setBtnTab","countryCode","setCountryCode","mobileNumber","setMobileNumber","isOpen","setIsOpen","namePopup","setnamePopup","isValidationMessage","setIsValidationMessage","state","auth","otp","loading","success","login","verify_OTP","otp_stateReg","otp_stateSignup","role","push","fullname","togglePopup","Dispatch","updateAccessToken_Action","otpRegister_Action","faceBookLogin_Action","otp_StateReg_Change_Action","responseFacebook","response","facebook_id","id","tab","componentClicked","data","console","warn","handleSubmit","e","error","position","autoClose","size","match","Number","handleMobileNo","target","value","length","pathname","Back","goBack","HeaderLogo","HeaderLogoMob","cursor","map","country","flag","color","spriteIconFacebook"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport * as Actions from \"../../redux/auth/action\";\r\nimport { countries_code } from \"../../constants/countries_code\";\r\nimport HeaderLogo from \"../../assets/images/header-logo.svg\";\r\nimport HeaderLogoMob from \"../../assets/images/mobile-logo.svg\";\r\n// import dailingCode64 from \"../../assets/icons/dailing-code_64.svg\";\r\nimport spriteIconFacebook from \"../../assets/icons/sprite_icon_facebook.svg\";\r\nimport photoOne from \"../../assets/images/photo-1546552356-3fae876a61ca.jpeg\";\r\nimport photoTwo from \"../../assets/images/asian-plumber-blue-overalls-clearing-blockage-drain_1098-17773.jpg\";\r\nimport photoThree from \"../../assets/images/photo-1581141849291-1125c7b692b5.jpeg\";\r\nimport photoFour from \"../../assets/images/construction-worker-with-hard-hat-sanding-down-wood-piece_23-2148748860.jpg\";\r\nimport photoFive from \"../../assets/images/photo-1574757987642-5755f0839101.jpeg\";\r\nimport SignupPopup from \"./signup-verification_popup.js\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport Modal from \"../../components/UserSignupModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\ntoast.configure();\r\n\r\nconst Index = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  const [btnTab, setBtnTab] = useState(true);\r\n  const [countryCode, setCountryCode] = useState(\"+61\");\r\n  const [mobileNumber, setMobileNumber] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [namePopup, setnamePopup] = useState(false);\r\n  const [isValidationMessage, setIsValidationMessage] = useState(false);\r\n\r\n  const {\r\n    otp,\r\n    loading,\r\n    success,\r\n    login,\r\n    verify_OTP,\r\n    otp_stateReg,\r\n    otp_stateSignup,\r\n  } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    if (login && verify_OTP?.role === \"provider\") {\r\n      history.push(\"/tradie-popup-step1\");\r\n    }\r\n    if (verify_OTP?.fullname !== \"\" && verify_OTP?.role === \"user\") {\r\n      history.push(\"/user-profile\");\r\n    }\r\n    /*     if (login && verify_OTP?.role === \"\") {\r\n          history.push(\"/\");\r\n        } */\r\n  }, [login, verify_OTP]);\r\n\r\n  const togglePopup = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const Dispatch = useDispatch();\r\n  const {\r\n    updateAccessToken_Action,\r\n    otpRegister_Action,\r\n    faceBookLogin_Action,\r\n    otp_StateReg_Change_Action,\r\n  } = Actions;\r\n\r\n  const responseFacebook = (response) => {\r\n    Dispatch(\r\n      faceBookLogin_Action({\r\n        facebook_id: response.id,\r\n        tab: btnTab ? \"provider\" : \"user\",\r\n      })\r\n    );\r\n  };\r\n  const componentClicked = (data) => {\r\n    console.warn(\"data\", data);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    if (countryCode == \"\") {\r\n      toast.error(\"Please fill Country code\", {\r\n        position: \"bottom-left\",\r\n        autoClose: 2000,\r\n        size: \"small\",\r\n      });\r\n    } else if (!countryCode.match(/^(\\+?\\d{1,3}|\\d{1,4})$/g)) {\r\n      toast.error(\"Please fill valid Country code\", {\r\n        position: \"bottom-left\",\r\n        autoClose: 2000,\r\n        size: \"small\",\r\n      });\r\n    } else {\r\n      Dispatch(updateAccessToken_Action());\r\n      Dispatch(\r\n        otpRegister_Action({\r\n          countryCode: `${Number(countryCode)}`,\r\n          mobileNumber: `${mobileNumber}`,\r\n          tab: btnTab ? \"provider\" : \"user\",\r\n        })\r\n      );\r\n      setIsOpen(true);\r\n    }\r\n  };\r\n  const handleMobileNo = (e) => {\r\n    if (e.target.value.length <= 9) {\r\n      setIsValidationMessage(true);\r\n    }\r\n    if (e.target.value.length >= 9) {\r\n      setIsValidationMessage(false);\r\n      Dispatch(otp_StateReg_Change_Action(true));\r\n    }\r\n    if (e.target.value.length <= 10) {\r\n      setMobileNumber(e.target.value);\r\n      Dispatch(otp_StateReg_Change_Action(true));\r\n    }\r\n  };\r\n\r\n  if (\r\n    location.pathname === \"/sign-up\" &&\r\n    !otp_stateReg &&\r\n    mobileNumber === \"\"\r\n  ) {\r\n    Dispatch(otp_StateReg_Change_Action(true));\r\n  }\r\n  const Back = () => {\r\n    history.goBack();\r\n  };\r\n  return (\r\n    <>\r\n      <section className=\"section section--sign-up\">\r\n        <div className=\"sign-up\">\r\n          <div className=\"sign-up__left\">\r\n            <nav className=\"nav\">\r\n              <Link className=\"nav__left\" to=\"/\">\r\n                <img\r\n                  className=\"nav__logo\"\r\n                  src={HeaderLogo}\r\n                  title=\"header-logo\"\r\n                  alt=\"header-logo\"\r\n                />\r\n                <img\r\n                  className=\"nav__logo--md\"\r\n                  src={HeaderLogoMob}\r\n                  hidden\r\n                  title=\"header-logo-mob\"\r\n                  alt=\"header-logo-mob\"\r\n                />\r\n              </Link>\r\n              <button\r\n                onClick={Back}\r\n                style={{ cursor: \"pointer\" }}\r\n                className=\" btn-primary\"\r\n              >\r\n                Back\r\n              </button>\r\n            </nav>\r\n            <h3 className=\"section__title sign-up__title\">Sign Up</h3>\r\n            <p className=\"sign-up__description\">\r\n              Welcome, We are excited to have you onboard. Please sign up to continue.\r\n            </p>\r\n            <div className=\"sign-up-form\">\r\n              <div className=\"sign-up-form__navigation\">\r\n                <nav>\r\n                  <button\r\n                    className={btnTab ? \"active\" : \"\"}\r\n                    onClick={() => {\r\n                      setBtnTab(true);\r\n                    }}\r\n                  >\r\n                    As Tradie\r\n                  </button>\r\n                  <button\r\n                    className={!btnTab ? \"active\" : \"\"}\r\n                    onClick={() => {\r\n                      setBtnTab(false);\r\n                    }}\r\n                  >\r\n                    As User\r\n                  </button>\r\n                </nav>\r\n              </div>\r\n\r\n              <div className=\"sign-up-form__mobile\">\r\n                <p>Mobile Number</p>\r\n                <div className=\"sign-up-form__inputs\">\r\n                  <label for=\"mobile-number\">\r\n                    {countries_code.map((country) => {\r\n                      if (country.id === countryCode) {\r\n                        return country.flag;\r\n                      }\r\n                    })}\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"sign-up-form__country-code\"\r\n                    value={countryCode}\r\n                    onChange={(e) => {\r\n                      setCountryCode(e.target.value);\r\n                    }}\r\n                    required={true}\r\n                  />\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"sign-up-form__mobile-number\"\r\n                    id=\"mobile-number\"\r\n                    placeholder=\"Enter your mobile number\"\r\n                    value={mobileNumber}\r\n                    min=\"0\"\r\n                    onChange={(e) => {\r\n                      handleMobileNo(e);\r\n                    }}\r\n                    required={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"sign-up-form__error_msg\">\r\n                <p\r\n                  style={{\r\n                    color: \"red\",\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  {isValidationMessage\r\n                    ? \"Please Enter 9 to 10 digits number\"\r\n                    : \"\"}\r\n                  {otp_stateSignup ? \"Already user exist\" : \"\"}\r\n                </p>\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"sign-up-form__submit btn-primary\"\r\n                onClick={handleSubmit}\r\n                disabled={mobileNumber.length < 9}\r\n              >\r\n                Sign Up\r\n              </button>\r\n              <div className=\"sign-up-form__or\">\r\n                <p>OR</p>\r\n                <FacebookLogin\r\n                  appId=\"3141633349249902\"\r\n                  autoLoad={false}\r\n                  icon={<img src={spriteIconFacebook} alt=\"kj\" />}\r\n                  textButton=\"Continue with Facebook\"\r\n                  fields=\"name,email,picture\"\r\n                  onClick={componentClicked}\r\n                  callback={responseFacebook}\r\n                />\r\n              </div>\r\n              <div className=\"sign-up-form__sign-in\">\r\n                <p>You have already account?</p>\r\n                <Link to=\"/login\"> Sign In </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"sign-up__right\">\r\n            <div className=\"sign-up__right-column\">\r\n              <div>\r\n                <img src={photoOne} alt=\"\" />\r\n              </div>\r\n              <div>\r\n                <img src={photoTwo} alt=\"\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"sign-up__right-column sign-up__right-column--center\">\r\n              <div>\r\n                <img src={photoThree} alt=\"\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"sign-up__right-column\">\r\n              <div>\r\n                <img src={photoFour} alt=\"\" />\r\n              </div>\r\n              <div>\r\n                <img src={photoFive} alt=\"\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {isOpen && otp ? (\r\n        <SignupPopup\r\n          handleClose={togglePopup}\r\n          countryCode={countryCode}\r\n          mobileNumber={mobileNumber}\r\n          btnTab={btnTab}\r\n          setnamePopup={setnamePopup}\r\n        />\r\n      ) : null}\r\n\r\n      {login && verify_OTP?.fullname === \"\" && namePopup ? (\r\n        <Modal setnamePopup={setnamePopup} />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}