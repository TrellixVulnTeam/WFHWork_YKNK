{"ast":null,"code":"import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";//   1601545174666_user-profile_2020_10_01_17_39_31_786_ 1.jpg\n// professional-tradie.jpg\nimport tradie_review_1 from\"../../assets/images/1601545174666_user-profile_2020_10_01_17_39_31_786_ 1.jpg\";import*as Actions from\"../../redux/auth/action\";import{useDispatch,useSelector}from\"react-redux\";import IconArrow from\"../../assets/icons/icon-arrow.svg\";import StarRatings from\"react-star-ratings\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var Index=function Index(){var history=useHistory();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),userData=_useSelector.userData,businessData=_useSelector.businessData,gallery=_useSelector.gallery,services=_useSelector.services,tradiaServiceLocation=_useSelector.tradiaServiceLocation,submitApprovalRes=_useSelector.submitApprovalRes;var Profile_steps_Action=Actions.Profile_steps_Action,submitForApproval=Actions.submitForApproval;var userDetails=JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));var fullname=userDetails.fullname;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),complete=_useState2[0],setComplete=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),businesDone=_useState4[0],setBusinesDone=_useState4[1];var full_name=userData.full_name,email=userData.email,mobile=userData.mobile,gender=userData.gender,country=userData.country,city=userData.city,professional_experience=userData.professional_experience,website_link=userData.website_link,about_me=userData.about_me,working_radius=userData.working_radius,license_number=userData.license_number,business_name=userData.business_name,id=userData.id,profile_pic=userData.profile_pic,rating=userData.rating,submit_for_approval=userData.submit_for_approval;var house_no=businessData.house_no,street=businessData.street,pincode=businessData.pincode,state=businessData.state;useEffect(function(){},[]);var handleProviderProfileCall=function handleProviderProfileCall(){dispatch(Profile_steps_Action());};useEffect(function(){if(full_name&&email&&mobile&&gender&&city&&professional_experience&&website_link&&country&&about_me){setComplete(true);}else{setComplete(false);}},[userData]);useEffect(function(){if(working_radius&&license_number&&business_name&&house_no&&street&&pincode&&state&&city&&country){setBusinesDone(true);}else{setBusinesDone(false);}},[businessData]);var submitForApp=function submitForApp(){if(complete&&businesDone&&gallery.length>0&&services.length>0&&tradiaServiceLocation.length>0){dispatch(submitForApproval(fullname));}else{toast.success(\"Submit successfully\",{position:\"bottom-left\",autoClose:1000,size:\"small\"});}};useEffect(function(){if(submitApprovalRes){var _submitApprovalRes$da,_submitApprovalRes$da2;if((submitApprovalRes===null||submitApprovalRes===void 0?void 0:(_submitApprovalRes$da=submitApprovalRes.data)===null||_submitApprovalRes$da===void 0?void 0:(_submitApprovalRes$da2=_submitApprovalRes$da.data)===null||_submitApprovalRes$da2===void 0?void 0:_submitApprovalRes$da2.success)==1){history.push(\"/\");toast.success(\"Submit successfully\",{position:\"bottom-left\",autoClose:1000,size:\"small\"});}}setTimeout(function(){dispatch({type:\"SUBMIT_FOR_APPROVAL_SUCCESS\",payloade:\"\"});},1000);},[submitApprovalRes]);var completAlert=function completAlert(){toast.error(\"Please Complete your profile\",{position:\"bottom-left\",autoClose:1000,size:\"small\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"tradie-my-profile__profile\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tradie-profile__image\",children:/*#__PURE__*/_jsx(\"img\",{src:profile_pic?\"https://api.tapatradie.com/profile/\".concat(id,\"/\")+profile_pic:tradie_review_1,alt:\"\"})}),/*#__PURE__*/_jsx(Link,{to:\"/ChangeProfile\",style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"small\",{style:{cursor:\"pointer\"},children:\"Change profile\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"tradie-profile__name\",children:full_name}),/*#__PURE__*/_jsx(\"div\",{className:\"tradie-profile__rating\",children:/*#__PURE__*/_jsx(StarRatings,{rating:rating?Math.round(Number(rating)*10)/10:0,starRatedColor:\"orange\",numberOfStars:5,name:\"rating\",starSpacing:\"1px\",starDimension:\"17px\"})}),/*#__PURE__*/_jsx(Link,{to:\"/tradie-review\",className:\"tradie-profile__link\",children:\"View Reviews\"}),/*#__PURE__*/_jsx(\"p\",{className:\"tradie-profile__text\",children:complete&&businesDone&&gallery.length>0&&services.length>0&&tradiaServiceLocation.length>0?\"\":\"You are only a few steps away from completing profile\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"tradie-profile__list\",children:[/*#__PURE__*/_jsx(\"li\",{className:complete?\"checked\":\"\",children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsx(Link,{onClick:handleProviderProfileCall,to:\"/tradie-my-profile\",children:\"Identify verifications & about me\"}),/*#__PURE__*/_jsx(\"img\",{src:IconArrow})]})}),/*#__PURE__*/_jsx(\"li\",{className:businesDone?\"checked\":\"\",children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsx(Link,{onClick:handleProviderProfileCall,to:\"/business-details\",children:\"Business details\"}),/*#__PURE__*/_jsx(\"img\",{src:IconArrow})]})}),/*#__PURE__*/_jsx(\"li\",{className:gallery.length>0?\"checked\":\"\",children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsxs(Link,{onClick:handleProviderProfileCall,to:\"/tradie-my-profile-upload\",children:[\" \",\"Upload photos of your work\",\" \"]}),\" \",/*#__PURE__*/_jsx(\"img\",{src:IconArrow})]})}),/*#__PURE__*/_jsx(\"li\",{className:services.length>0?\"checked\":\"\",children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsxs(Link,{onClick:handleProviderProfileCall,to:\"/tradie-additional-services\",children:[\"Additional Service information\",\" \"]}),/*#__PURE__*/_jsx(\"img\",{src:IconArrow})]})}),/*#__PURE__*/_jsx(\"li\",{className:tradiaServiceLocation.length>0?\"checked\":\"\",children:/*#__PURE__*/_jsxs(\"a\",{children:[/*#__PURE__*/_jsxs(Link,{onClick:handleProviderProfileCall,to:\"/tradie-service-location\",children:[\"Add your service location\",\" \"]}),/*#__PURE__*/_jsx(\"img\",{src:IconArrow})]})})]}),complete&&businesDone&&gallery.length>0&&services.length>0&&tradiaServiceLocation.length>0?submit_for_approval==1?\"\":submit_for_approval==0?/*#__PURE__*/_jsx(\"a\",{onClick:submitForApp,className:\"btn-primary\",children:\"Submit for approval\"}):submit_for_approval==3?/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",disabled:true,children:\"Submited for approval\"}):submit_for_approval==2?/*#__PURE__*/_jsx(\"a\",{onClick:submitForApp,className:\"btn-primary\",children:\"Re Submit for approval\"}):/*#__PURE__*/_jsx(\"button\",{onClick:submitForApp,className:\"btn-primary\",disabled:true,children:\"Submit for approval\"}):/*#__PURE__*/_jsx(\"a\",{onClick:completAlert,className:\"btn-primary\",children:\"Submit for approval\"}),/*#__PURE__*/_jsx(\"a\",{className:\"tradie-profile__link\",children:complete&&businesDone?/*#__PURE__*/_jsx(Link,{to:\"/tradie-public-profile/\"+id,children:\"View Profile\"}):/*#__PURE__*/_jsx(\"a\",{onClick:completAlert,style:{cursor:\"pointer\"},children:\"View Profile\"})})]});};export default Index;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/components/Tradie Name/Index.js"],"names":["React","useEffect","useState","Link","useHistory","tradie_review_1","Actions","useDispatch","useSelector","StarRatings","toast","configure","Index","history","dispatch","state","auth","userData","businessData","gallery","services","tradiaServiceLocation","submitApprovalRes","Profile_steps_Action","submitForApproval","userDetails","JSON","parse","localStorage","getItem","fullname","complete","setComplete","businesDone","setBusinesDone","full_name","email","mobile","gender","country","city","professional_experience","website_link","about_me","working_radius","license_number","business_name","id","profile_pic","rating","submit_for_approval","house_no","street","pincode","handleProviderProfileCall","submitForApp","length","success","position","autoClose","size","data","push","setTimeout","type","payloade","completAlert","error","textDecoration","cursor","Math","round","Number","IconArrow"],"mappings":"gJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA;AACA;AACA,MAAOC,CAAAA,eAAP,KAA4B,+EAA5B,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,yBAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,yDAEA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAO,uCAAP,C,wFACAA,KAAK,CAACC,SAAN,GAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,iBAOIC,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,IAAjB,EAAD,CAPf,CACEC,QADF,cACEA,QADF,CAEEC,YAFF,cAEEA,YAFF,CAGEC,OAHF,cAGEA,OAHF,CAIEC,QAJF,cAIEA,QAJF,CAKEC,qBALF,cAKEA,qBALF,CAMEC,iBANF,cAMEA,iBANF,CASA,GAAQC,CAAAA,oBAAR,CAAoDjB,OAApD,CAAQiB,oBAAR,CAA8BC,iBAA9B,CAAoDlB,OAApD,CAA8BkB,iBAA9B,CACA,GAAMC,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,oBAArB,CAAX,CAApB,CACA,GAAQC,CAAAA,QAAR,CAAqBL,WAArB,CAAQK,QAAR,CACA,cAAgC5B,QAAQ,CAAC,KAAD,CAAxC,wCAAO6B,QAAP,eAAiBC,WAAjB,eACA,eAAsC9B,QAAQ,CAAC,KAAD,CAA9C,yCAAO+B,WAAP,eAAoBC,cAApB,eACA,GACEC,CAAAA,SADF,CAiBIlB,QAjBJ,CACEkB,SADF,CAEEC,KAFF,CAiBInB,QAjBJ,CAEEmB,KAFF,CAGEC,MAHF,CAiBIpB,QAjBJ,CAGEoB,MAHF,CAIEC,MAJF,CAiBIrB,QAjBJ,CAIEqB,MAJF,CAKEC,OALF,CAiBItB,QAjBJ,CAKEsB,OALF,CAMEC,IANF,CAiBIvB,QAjBJ,CAMEuB,IANF,CAOEC,uBAPF,CAiBIxB,QAjBJ,CAOEwB,uBAPF,CAQEC,YARF,CAiBIzB,QAjBJ,CAQEyB,YARF,CASEC,QATF,CAiBI1B,QAjBJ,CASE0B,QATF,CAUEC,cAVF,CAiBI3B,QAjBJ,CAUE2B,cAVF,CAWEC,cAXF,CAiBI5B,QAjBJ,CAWE4B,cAXF,CAYEC,aAZF,CAiBI7B,QAjBJ,CAYE6B,aAZF,CAaEC,EAbF,CAiBI9B,QAjBJ,CAaE8B,EAbF,CAcEC,WAdF,CAiBI/B,QAjBJ,CAcE+B,WAdF,CAeEC,MAfF,CAiBIhC,QAjBJ,CAeEgC,MAfF,CAgBEC,mBAhBF,CAiBIjC,QAjBJ,CAgBEiC,mBAhBF,CAkBA,GAAQC,CAAAA,QAAR,CAA6CjC,YAA7C,CAAQiC,QAAR,CAAkBC,MAAlB,CAA6ClC,YAA7C,CAAkBkC,MAAlB,CAA0BC,OAA1B,CAA6CnC,YAA7C,CAA0BmC,OAA1B,CAAmCtC,KAAnC,CAA6CG,YAA7C,CAAmCH,KAAnC,CAEAd,SAAS,CAAC,UAAM,CAAE,CAAT,CAAW,EAAX,CAAT,CACA,GAAMqD,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,EAAM,CACtCxC,QAAQ,CAACS,oBAAoB,EAArB,CAAR,CACD,CAFD,CAGAtB,SAAS,CAAC,UAAM,CACd,GACEkC,SAAS,EACTC,KADA,EAEAC,MAFA,EAGAC,MAHA,EAIAE,IAJA,EAKAC,uBALA,EAMAC,YANA,EAOAH,OAPA,EAQAI,QATF,CAUE,CACAX,WAAW,CAAC,IAAD,CAAX,CACD,CAZD,IAYO,CACLA,WAAW,CAAC,KAAD,CAAX,CACD,CACF,CAhBQ,CAgBN,CAACf,QAAD,CAhBM,CAAT,CAiBAhB,SAAS,CAAC,UAAM,CACd,GACE2C,cAAc,EACdC,cADA,EAEAC,aAFA,EAGAK,QAHA,EAIAC,MAJA,EAKAC,OALA,EAMAtC,KANA,EAOAyB,IAPA,EAQAD,OATF,CAUE,CACAL,cAAc,CAAC,IAAD,CAAd,CACD,CAZD,IAYO,CACLA,cAAc,CAAC,KAAD,CAAd,CACD,CACF,CAhBQ,CAgBN,CAAChB,YAAD,CAhBM,CAAT,CAkBA,GAAMqC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GACExB,QAAQ,EACRE,WADA,EAEAd,OAAO,CAACqC,MAAR,CAAiB,CAFjB,EAGApC,QAAQ,CAACoC,MAAT,CAAkB,CAHlB,EAIAnC,qBAAqB,CAACmC,MAAtB,CAA+B,CALjC,CAME,CACA1C,QAAQ,CAACU,iBAAiB,CAACM,QAAD,CAAlB,CAAR,CACD,CARD,IAQO,CACLpB,KAAK,CAAC+C,OAAN,CAAc,qBAAd,CAAqC,CACnCC,QAAQ,CAAE,aADyB,CAEnCC,SAAS,CAAE,IAFwB,CAGnCC,IAAI,CAAE,OAH6B,CAArC,EAKD,CACF,CAhBD,CAiBA3D,SAAS,CAAC,UAAM,CACd,GAAIqB,iBAAJ,CAAuB,kDACrB,GAAI,CAAAA,iBAAiB,OAAjB,EAAAA,iBAAiB,SAAjB,+BAAAA,iBAAiB,CAAEuC,IAAnB,8FAAyBA,IAAzB,wEAA+BJ,OAA/B,GAA0C,CAA9C,CAAiD,CAC/C5C,OAAO,CAACiD,IAAR,CAAa,GAAb,EACApD,KAAK,CAAC+C,OAAN,CAAc,qBAAd,CAAqC,CACnCC,QAAQ,CAAE,aADyB,CAEnCC,SAAS,CAAE,IAFwB,CAGnCC,IAAI,CAAE,OAH6B,CAArC,EAKD,CACF,CACDG,UAAU,CAAC,UAAM,CACfjD,QAAQ,CAAC,CAAEkD,IAAI,CAAE,6BAAR,CAAuCC,QAAQ,CAAE,EAAjD,CAAD,CAAR,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAdQ,CAcN,CAAC3C,iBAAD,CAdM,CAAT,CAgBA,GAAM4C,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBxD,KAAK,CAACyD,KAAN,CAAY,8BAAZ,CAA4C,CAC1CT,QAAQ,CAAE,aADgC,CAE1CC,SAAS,CAAE,IAF+B,CAG1CC,IAAI,CAAE,OAHoC,CAA5C,EAKD,CAND,CAQA,mBACE,aAAK,SAAS,CAAC,4BAAf,wBACE,YAAK,SAAS,CAAC,uBAAf,uBACE,YACE,GAAG,CACDZ,WAAW,CACP,6CAAsCD,EAAtC,MAA8CC,WADvC,CAEP3C,eAJR,CAME,GAAG,CAAC,EANN,EADF,EADF,cAWE,KAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,CAA0B,KAAK,CAAE,CAAE+D,cAAc,CAAE,MAAlB,CAAjC,uBACE,cAAO,KAAK,CAAE,CAAEC,MAAM,CAAE,SAAV,CAAd,4BADF,EAXF,cAcE,WAAI,SAAS,CAAC,sBAAd,UAAsClC,SAAtC,EAdF,cAgBE,YAAK,SAAS,CAAC,wBAAf,uBACE,KAAC,WAAD,EACE,MAAM,CAAEc,MAAM,CAAGqB,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACvB,MAAD,CAAN,CAAiB,EAA5B,EAAkC,EAArC,CAA0C,CAD1D,CAEE,cAAc,CAAC,QAFjB,CAGE,aAAa,CAAE,CAHjB,CAIE,IAAI,CAAC,QAJP,CAKE,WAAW,CAAC,KALd,CAME,aAAa,CAAC,MANhB,EADF,EAhBF,cA0BE,KAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,CAA0B,SAAS,CAAC,sBAApC,0BA1BF,cA6BE,UAAG,SAAS,CAAC,sBAAb,UACGlB,QAAQ,EACTE,WADC,EAEDd,OAAO,CAACqC,MAAR,CAAiB,CAFhB,EAGDpC,QAAQ,CAACoC,MAAT,CAAkB,CAHjB,EAIDnC,qBAAqB,CAACmC,MAAtB,CAA+B,CAJ9B,CAKG,EALH,CAMG,uDAPN,EA7BF,cAsCE,YAAI,SAAS,CAAC,sBAAd,wBACE,WAAI,SAAS,CAAEzB,QAAQ,CAAG,SAAH,CAAe,EAAtC,uBACE,kCACE,KAAC,IAAD,EAAM,OAAO,CAAEuB,yBAAf,CAA0C,EAAE,CAAC,oBAA7C,+CADF,cAIE,YAAK,GAAG,CAAEmB,SAAV,EAJF,GADF,EADF,cAUE,WAAI,SAAS,CAAExC,WAAW,CAAG,SAAH,CAAe,EAAzC,uBACE,kCACE,KAAC,IAAD,EAAM,OAAO,CAAEqB,yBAAf,CAA0C,EAAE,CAAC,mBAA7C,8BADF,cAIE,YAAK,GAAG,CAAEmB,SAAV,EAJF,GADF,EAVF,cAkBE,WAAI,SAAS,CAAEtD,OAAO,CAACqC,MAAR,CAAiB,CAAjB,CAAqB,SAArB,CAAiC,EAAhD,uBACE,kCACE,MAAC,IAAD,EACE,OAAO,CAAEF,yBADX,CAEE,EAAE,CAAC,2BAFL,WAIG,GAJH,8BAK6B,GAL7B,GADF,CAOU,GAPV,cAQE,YAAK,GAAG,CAAEmB,SAAV,EARF,GADF,EAlBF,cA8BE,WAAI,SAAS,CAAErD,QAAQ,CAACoC,MAAT,CAAkB,CAAlB,CAAsB,SAAtB,CAAkC,EAAjD,uBACE,kCACE,MAAC,IAAD,EACE,OAAO,CAAEF,yBADX,CAEE,EAAE,CAAC,6BAFL,4CAIiC,GAJjC,GADF,cAOE,YAAK,GAAG,CAAEmB,SAAV,EAPF,GADF,EA9BF,cAyCE,WAAI,SAAS,CAAEpD,qBAAqB,CAACmC,MAAtB,CAA+B,CAA/B,CAAmC,SAAnC,CAA+C,EAA9D,uBACE,kCACE,MAAC,IAAD,EACE,OAAO,CAAEF,yBADX,CAEE,EAAE,CAAC,0BAFL,uCAI4B,GAJ5B,GADF,cAOE,YAAK,GAAG,CAAEmB,SAAV,EAPF,GADF,EAzCF,GAtCF,CA2FG1C,QAAQ,EACTE,WADC,EAEDd,OAAO,CAACqC,MAAR,CAAiB,CAFhB,EAGDpC,QAAQ,CAACoC,MAAT,CAAkB,CAHjB,EAIDnC,qBAAqB,CAACmC,MAAtB,CAA+B,CAJ9B,CAKCN,mBAAmB,EAAI,CAAvB,CACE,EADF,CAEIA,mBAAmB,EAAI,CAAvB,cACF,UAAG,OAAO,CAAEK,YAAZ,CAA0B,SAAS,CAAC,aAApC,iCADE,CAIAL,mBAAmB,EAAI,CAAvB,cACF,eAAQ,SAAS,CAAC,aAAlB,CAAgC,QAAQ,CAAE,IAA1C,mCADE,CAIAA,mBAAmB,EAAI,CAAvB,cACF,UAAG,OAAO,CAAEK,YAAZ,CAA0B,SAAS,CAAC,aAApC,oCADE,cAKF,eACE,OAAO,CAAEA,YADX,CAEE,SAAS,CAAC,aAFZ,CAGE,QAAQ,CAAE,IAHZ,iCApBH,cA6BC,UAAG,OAAO,CAAEW,YAAZ,CAA0B,SAAS,CAAC,aAApC,iCAxHJ,cA4HE,UAAG,SAAS,CAAC,sBAAb,UACGnC,QAAQ,EAAIE,WAAZ,cACC,KAAC,IAAD,EAAM,EAAE,CAAE,0BAA4Bc,EAAtC,0BADD,cAGC,UAAG,OAAO,CAAEmB,YAAZ,CAA0B,KAAK,CAAE,CAAEG,MAAM,CAAE,SAAV,CAAjC,0BAJJ,EA5HF,GADF,CAwID,CA7PD,CA8PA,cAAezD,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n//   1601545174666_user-profile_2020_10_01_17_39_31_786_ 1.jpg\r\n// professional-tradie.jpg\r\nimport tradie_review_1 from \"../../assets/images/1601545174666_user-profile_2020_10_01_17_39_31_786_ 1.jpg\";\r\nimport * as Actions from \"../../redux/auth/action\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport IconArrow from \"../../assets/icons/icon-arrow.svg\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\ntoast.configure();\r\n\r\nconst Index = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const {\r\n    userData,\r\n    businessData,\r\n    gallery,\r\n    services,\r\n    tradiaServiceLocation,\r\n    submitApprovalRes,\r\n  } = useSelector((state) => state.auth);\r\n\r\n  const { Profile_steps_Action, submitForApproval } = Actions;\r\n  const userDetails = JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));\r\n  const { fullname } = userDetails;\r\n  const [complete, setComplete] = useState(false);\r\n  const [businesDone, setBusinesDone] = useState(false);\r\n  const {\r\n    full_name,\r\n    email,\r\n    mobile,\r\n    gender,\r\n    country,\r\n    city,\r\n    professional_experience,\r\n    website_link,\r\n    about_me,\r\n    working_radius,\r\n    license_number,\r\n    business_name,\r\n    id,\r\n    profile_pic,\r\n    rating,\r\n    submit_for_approval,\r\n  } = userData;\r\n  const { house_no, street, pincode, state } = businessData;\r\n\r\n  useEffect(() => {}, []);\r\n  const handleProviderProfileCall = () => {\r\n    dispatch(Profile_steps_Action());\r\n  };\r\n  useEffect(() => {\r\n    if (\r\n      full_name &&\r\n      email &&\r\n      mobile &&\r\n      gender &&\r\n      city &&\r\n      professional_experience &&\r\n      website_link &&\r\n      country &&\r\n      about_me\r\n    ) {\r\n      setComplete(true);\r\n    } else {\r\n      setComplete(false);\r\n    }\r\n  }, [userData]);\r\n  useEffect(() => {\r\n    if (\r\n      working_radius &&\r\n      license_number &&\r\n      business_name &&\r\n      house_no &&\r\n      street &&\r\n      pincode &&\r\n      state &&\r\n      city &&\r\n      country\r\n    ) {\r\n      setBusinesDone(true);\r\n    } else {\r\n      setBusinesDone(false);\r\n    }\r\n  }, [businessData]);\r\n\r\n  const submitForApp = () => {\r\n    if (\r\n      complete &&\r\n      businesDone &&\r\n      gallery.length > 0 &&\r\n      services.length > 0 &&\r\n      tradiaServiceLocation.length > 0\r\n    ) {\r\n      dispatch(submitForApproval(fullname));\r\n    } else {\r\n      toast.success(\"Submit successfully\", {\r\n        position: \"bottom-left\",\r\n        autoClose: 1000,\r\n        size: \"small\",\r\n      });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (submitApprovalRes) {\r\n      if (submitApprovalRes?.data?.data?.success == 1) {\r\n        history.push(\"/\");\r\n        toast.success(\"Submit successfully\", {\r\n          position: \"bottom-left\",\r\n          autoClose: 1000,\r\n          size: \"small\",\r\n        });\r\n      }\r\n    }\r\n    setTimeout(() => {\r\n      dispatch({ type: \"SUBMIT_FOR_APPROVAL_SUCCESS\", payloade: \"\" });\r\n    }, 1000);\r\n  }, [submitApprovalRes]);\r\n\r\n  const completAlert = () => {\r\n    toast.error(\"Please Complete your profile\", {\r\n      position: \"bottom-left\",\r\n      autoClose: 1000,\r\n      size: \"small\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"tradie-my-profile__profile\">\r\n      <div className=\"tradie-profile__image\">\r\n        <img\r\n          src={\r\n            profile_pic\r\n              ? `https://api.tapatradie.com/profile/${id}/` + profile_pic\r\n              : tradie_review_1\r\n          }\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <Link to=\"/ChangeProfile\" style={{ textDecoration: \"none\" }}>\r\n        <small style={{ cursor: \"pointer\" }}>Change profile</small>\r\n      </Link>\r\n      <h4 className=\"tradie-profile__name\">{full_name}</h4>\r\n\r\n      <div className=\"tradie-profile__rating\">\r\n        <StarRatings\r\n          rating={rating ? Math.round(Number(rating) * 10) / 10 : 0}\r\n          starRatedColor=\"orange\"\r\n          numberOfStars={5}\r\n          name=\"rating\"\r\n          starSpacing=\"1px\"\r\n          starDimension=\"17px\"\r\n        />\r\n      </div>\r\n      <Link to=\"/tradie-review\" className=\"tradie-profile__link\">\r\n        View Reviews\r\n      </Link>\r\n      <p className=\"tradie-profile__text\">\r\n        {complete &&\r\n        businesDone &&\r\n        gallery.length > 0 &&\r\n        services.length > 0 &&\r\n        tradiaServiceLocation.length > 0\r\n          ? \"\"\r\n          : \"You are only a few steps away from completing profile\"}\r\n      </p>\r\n      <ul className=\"tradie-profile__list\">\r\n        <li className={complete ? \"checked\" : \"\"}>\r\n          <a>\r\n            <Link onClick={handleProviderProfileCall} to=\"/tradie-my-profile\">\r\n              Identify verifications & about me\r\n            </Link>\r\n            <img src={IconArrow} />\r\n            {/* <svg><use xlinkHref=\"/assets/icons/sprite.svg#icon-arrow\"></use></svg>{' '} */}\r\n          </a>\r\n        </li>\r\n        <li className={businesDone ? \"checked\" : \"\"}>\r\n          <a>\r\n            <Link onClick={handleProviderProfileCall} to=\"/business-details\">\r\n              Business details\r\n            </Link>\r\n            <img src={IconArrow} />\r\n          </a>\r\n        </li>\r\n        <li className={gallery.length > 0 ? \"checked\" : \"\"}>\r\n          <a>\r\n            <Link\r\n              onClick={handleProviderProfileCall}\r\n              to=\"/tradie-my-profile-upload\"\r\n            >\r\n              {\" \"}\r\n              Upload photos of your work{\" \"}\r\n            </Link>{\" \"}\r\n            <img src={IconArrow} />\r\n          </a>\r\n        </li>\r\n        <li className={services.length > 0 ? \"checked\" : \"\"}>\r\n          <a>\r\n            <Link\r\n              onClick={handleProviderProfileCall}\r\n              to=\"/tradie-additional-services\"\r\n            >\r\n              Additional Service information{\" \"}\r\n            </Link>\r\n            <img src={IconArrow} />\r\n          </a>\r\n        </li>\r\n        <li className={tradiaServiceLocation.length > 0 ? \"checked\" : \"\"}>\r\n          <a>\r\n            <Link\r\n              onClick={handleProviderProfileCall}\r\n              to=\"/tradie-service-location\"\r\n            >\r\n              Add your service location{\" \"}\r\n            </Link>\r\n            <img src={IconArrow} />\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      {complete &&\r\n      businesDone &&\r\n      gallery.length > 0 &&\r\n      services.length > 0 &&\r\n      tradiaServiceLocation.length > 0 ? (\r\n        submit_for_approval == 1 ? (\r\n          \"\"\r\n        ) : submit_for_approval == 0 ? (\r\n          <a onClick={submitForApp} className=\"btn-primary\">\r\n            Submit for approval\r\n          </a>\r\n        ) : submit_for_approval == 3 ? (\r\n          <button className=\"btn-primary\" disabled={true}>\r\n            Submited for approval\r\n          </button>\r\n        ) : submit_for_approval == 2 ? (\r\n          <a onClick={submitForApp} className=\"btn-primary\">\r\n            Re Submit for approval\r\n          </a>\r\n        ) : (\r\n          <button\r\n            onClick={submitForApp}\r\n            className=\"btn-primary\"\r\n            disabled={true}\r\n          >\r\n            Submit for approval\r\n          </button>\r\n        )\r\n      ) : (\r\n        <a onClick={completAlert} className=\"btn-primary\">\r\n          Submit for approval\r\n        </a>\r\n      )}\r\n      <a className=\"tradie-profile__link\">\r\n        {complete && businesDone ? (\r\n          <Link to={\"/tradie-public-profile/\" + id}>View Profile</Link>\r\n        ) : (\r\n          <a onClick={completAlert} style={{ cursor: \"pointer\" }}>\r\n            View Profile\r\n          </a>\r\n        )}\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}