{"ast":null,"code":"import _defineProperty from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import Header from\"../../components/Header\";import Footer from\"../../components/Footer\";import{Card}from\"react-bootstrap\";import{useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();function ChangeProfile(){var _ref;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imgs=_useState2[0],setImgs=_useState2[1];var userInfo=JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));var config={headers:{\"Content-Type\":\"application/json\",authorization:\"my-auth-token\"}};var handleSubmit=function handleSubmit(){var formData=new FormData();formData.append(\"image\",imgs[0]);formData.append(\"access_token\",userInfo.access_token);//append the values with key, value pair\nformData.append(\"api_key\",userInfo.api_key);// formData.append(\"device_id\", userInfo.device_id);\nformData.append(\"device_type\",userInfo.device_type);formData.append(\"uid\",userInfo.uid);formData.append(\"length\",imgs.length);axios.post(\"https://api.tapatradie.com/api/upload-profile-picture\",formData,config).then(function(res){if(res.data.success===1){history.push(\"/tradie-my-profile\");toast.success(res.data.message,{position:\"bottom-left\",autoClose:2000,size:\"small\"});}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Card,{style:(_ref={justifyContent:\"center\",display:\"flex\",flexDirection:\"column\"},_defineProperty(_ref,\"justifyContent\",\"center\"),_defineProperty(_ref,\"justifyItems\",\"center\"),_defineProperty(_ref,\"alignContent\",\"center\"),_defineProperty(_ref,\"alignItems\",\"center\"),_ref),children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-group__city-number-inputs\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"40%\"},children:/*#__PURE__*/_jsx(\"input\",{name:\"profileImage\",type:\"file\",placeholder:\"Choose Profile\",onChange:function onChange(e){return setImgs([e.target.files[0]]);}})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",style:{cursor:\"pointer\"},onClick:handleSubmit,children:\"Upload\"})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default ChangeProfile;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/TradieMyProfile/ChangeProfile.js"],"names":["Header","Footer","Card","useState","axios","useHistory","toast","configure","ChangeProfile","history","imgs","setImgs","userInfo","JSON","parse","localStorage","getItem","config","headers","authorization","handleSubmit","formData","FormData","append","access_token","api_key","device_type","uid","length","post","then","res","data","success","push","message","position","autoClose","size","justifyContent","display","flexDirection","width","e","target","files","cursor"],"mappings":"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","sourcesContent":["import Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\ntoast.configure();\r\n\r\nfunction ChangeProfile() {\r\n  const history = useHistory();\r\n  const [imgs, setImgs] = useState([]);\r\n  let userInfo = JSON.parse(localStorage.getItem(\"tepatredieUserInfo\"));\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      authorization: \"my-auth-token\",\r\n    },\r\n  };\r\n  const handleSubmit = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", imgs[0]);\r\n    formData.append(\"access_token\", userInfo.access_token); //append the values with key, value pair\r\n    formData.append(\"api_key\", userInfo.api_key);\r\n    // formData.append(\"device_id\", userInfo.device_id);\r\n    formData.append(\"device_type\", userInfo.device_type);\r\n    formData.append(\"uid\", userInfo.uid);\r\n    formData.append(\"length\", imgs.length);\r\n    \r\n    axios\r\n      .post(\r\n        \"https://api.tapatradie.com/api/upload-profile-picture\",\r\n        formData,\r\n        config\r\n      )\r\n      .then((res) => {\r\n        if (res.data.success === 1) {\r\n          history.push(\"/tradie-my-profile\");\r\n          toast.success(res.data.message, {\r\n            position: \"bottom-left\",\r\n            autoClose: 2000,\r\n            size: \"small\",\r\n          });\r\n        }\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Card\r\n        style={{\r\n          justifyContent: \"center\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          justifyItems: \"center\",\r\n          alignContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group__city-number-inputs\">\r\n            <div style={{ width: \"40%\" }}>\r\n              <input\r\n                name=\"profileImage\"\r\n                type=\"file\"\r\n                placeholder=\"Choose Profile\"\r\n                onChange={(e) => setImgs([e.target.files[0]])}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"input-group\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-primary\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={handleSubmit}\r\n          >\r\n            Upload\r\n          </button>\r\n        </div>\r\n      </Card>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeProfile;\r\n"]},"metadata":{},"sourceType":"module"}