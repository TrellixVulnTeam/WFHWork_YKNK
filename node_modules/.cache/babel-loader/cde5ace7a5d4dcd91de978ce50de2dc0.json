{"ast":null,"code":"import _toConsumableArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"F:\\\\New folder\\\\TapaTradieWebsite20-01-2022\\\\WFHWork\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import{mainCategories,allCategories}from\"./ServiceCategories\";import{useHistory}from\"react-router-dom\";import{ReactComponent as Close}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/icons/icon-cancelpopup.svg\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pop2=function Pop2(){var history=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),otherCategoriesLink=_useState2[0],setOtherCategoiresLink=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),DataToSend=_useState4[0],setDataToSend=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchCategory=_useState6[0],setSearchCategory=_useState6[1];var _useSelector=useSelector(function(state){return state.auth;}),login=_useSelector.login,verify_OTP=_useSelector.verify_OTP;var resultCat=allCategories===null||allCategories===void 0?void 0:allCategories.filter(function(val){if(searchCategory===\"\"){return val;}else if(val.name.toLowerCase().includes(searchCategory===null||searchCategory===void 0?void 0:searchCategory.toLowerCase())){return val;}});if(login&&verify_OTP.fullname===\"\"&&verify_OTP.role===\"provider\"){history.push(\"/tradie-popup-step1\");}if(verify_OTP.fullname!==\"\"&&verify_OTP.role===\"provider\"&&verify_OTP.register_complete===1){history.push(\"/\");}var handleChange=function handleChange(data,e){var name=data.name,id=data.id;//check id already exist or nor\nvar checkItem=DataToSend.some(function(item){return item===id;});if(!checkItem){setDataToSend(function(prevState){return[].concat(_toConsumableArray(prevState),[id]);});}//check unchecked condition removed\nif(checkItem){var filderItem=DataToSend.filter(function(item){return item!==id;});setDataToSend(filderItem);}// setDataToSend(filderItem);\n};localStorage.setItem(\"categoryID\",JSON.stringify(DataToSend));return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"section\",{className:\"primary-business-modal popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__content-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup__form2-top\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Primary Business \"})}),/*#__PURE__*/_jsx(\"p\",{children:\"Select your primary business, you can select one or more business categories\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for a service\",onChange:function onChange(e){return setSearchCategory(e.target.value);}}),/*#__PURE__*/_jsx(\"i\",{className:\"search-icon\",children:\" \\uD83D\\uDD0D\"})]})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"popup__categories\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"All Categories\"}),otherCategoriesLink?mainCategories&&resultCat.map(function(category){return/*#__PURE__*/_jsxs(\"li\",{className:\"category-group\",children:[/*#__PURE__*/_jsx(\"input\",{id:category.id,type:\"checkbox\",onChange:function onChange(e){return handleChange(category);}}),/*#__PURE__*/_jsx(\"span\",{children:category.name})]},category.id);}):allCategories&&resultCat.map(function(category){return/*#__PURE__*/_jsxs(\"li\",{className:\"category-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:category.id,onChange:function onChange(e){return handleChange(category);}}),/*#__PURE__*/_jsx(\"span\",{htmlfor:category.id,children:category.name})]},category.id);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__nav-categories\",children:otherCategoriesLink?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOtherCategoiresLink(false);}}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOtherCategoiresLink(true);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"popup__btn-next\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",disabled:DataToSend.length===0?true:false,onClick:function onClick(){history.push(\"/tradie-popup-step3\");},children:\"Next\"})})]})})});};export default Pop2;","map":{"version":3,"sources":["F:/New folder/TapaTradieWebsite20-01-2022/WFHWork/src/pages/tradieAllPopup/pop2.js"],"names":["React","useState","mainCategories","allCategories","useHistory","useDispatch","useSelector","Pop2","history","otherCategoriesLink","setOtherCategoiresLink","DataToSend","setDataToSend","searchCategory","setSearchCategory","state","auth","login","verify_OTP","resultCat","filter","val","name","toLowerCase","includes","fullname","role","push","register_complete","handleChange","data","e","id","checkItem","some","item","prevState","filderItem","localStorage","setItem","JSON","stringify","target","value","map","category","length"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { mainCategories, allCategories } from \"./ServiceCategories\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ReactComponent as Close } from \"../../assets/icons/icon-cancelpopup.svg\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Pop2 = () => {\r\n  const history = useHistory();\r\n  const [otherCategoriesLink, setOtherCategoiresLink] = useState(true);\r\n  const [DataToSend, setDataToSend] = useState([]);\r\n  const [searchCategory, setSearchCategory] = useState(\"\");\r\n\r\n  const { login, verify_OTP } = useSelector((state) => state.auth);\r\n\r\n  const resultCat = allCategories?.filter((val) => {\r\n    if (searchCategory === \"\") {\r\n      return val;\r\n    } else if (val.name.toLowerCase().includes(searchCategory?.toLowerCase())) {\r\n      return val;\r\n    }\r\n  });\r\n\r\n  if (login && verify_OTP.fullname === \"\" && verify_OTP.role === \"provider\") {\r\n    history.push(\"/tradie-popup-step1\");\r\n  }\r\n\r\n  if (\r\n    verify_OTP.fullname !== \"\" &&\r\n    verify_OTP.role === \"provider\" &&\r\n    verify_OTP.register_complete === 1\r\n  ) {\r\n    history.push(\"/\");\r\n  }\r\n\r\n  const handleChange = (data, e) => {\r\n    const { name, id } = data;\r\n    //check id already exist or nor\r\n    const checkItem = DataToSend.some((item) => item === id);\r\n\r\n    if (!checkItem) {\r\n      setDataToSend((prevState) => [...prevState, id]);\r\n    }\r\n    //check unchecked condition removed\r\n    if (checkItem) {\r\n      const filderItem = DataToSend.filter((item) => item !== id);\r\n      setDataToSend(filderItem);\r\n    }\r\n    // setDataToSend(filderItem);\r\n  };\r\n  localStorage.setItem(\"categoryID\", JSON.stringify(DataToSend));\r\n\r\n  return (\r\n    <div>\r\n      <section className=\"primary-business-modal popup\">\r\n        <div className=\"popup__content-container\">\r\n          <form className=\"popup__form2\">\r\n            <div className=\"popup__form2-top\">\r\n              <h2>Primary Business </h2>\r\n              {/* <span\r\n                onClick={(e) => {\r\n                  e.target.parentElement.parentElement.parentElement.parentElement.style.display =\r\n                    \"none\";\r\n                  history.push(\"/tradie-my-profile\");\r\n                }}\r\n                className=\"Closesvg\"\r\n              >\r\n                <Close width=\"30px\" height=\"30px\" />\r\n              </span> */}\r\n            </div>\r\n            <p>\r\n              Select your primary business, you can select one or more business\r\n              categories\r\n            </p>\r\n\r\n            <div className=\"input-group\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search for a service\"\r\n                onChange={(e) => setSearchCategory(e.target.value)}\r\n              />\r\n              <i className=\"search-icon\"> &#x1F50D;</i>\r\n            </div>\r\n          </form>\r\n\r\n          <ul className=\"popup__categories\">\r\n            <p>All Categories</p>\r\n\r\n            {otherCategoriesLink\r\n              ? mainCategories &&\r\n                resultCat.map((category) => (\r\n                  <li className=\"category-group\" key={category.id}>\r\n                    <input\r\n                      id={category.id}\r\n                      type=\"checkbox\"\r\n                      onChange={(e) => handleChange(category)}\r\n                    />\r\n                    <span>{category.name}</span>\r\n                  </li>\r\n                ))\r\n              : allCategories &&\r\n                resultCat.map((category) => (\r\n                  <li className=\"category-group\" key={category.id}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      id={category.id}\r\n                      onChange={(e) => handleChange(category)}\r\n                    />\r\n                    <span htmlfor={category.id}>{category.name}</span>\r\n                  </li>\r\n                ))}\r\n          </ul>\r\n\r\n          <div className=\"popup__nav-categories\">\r\n            {otherCategoriesLink ? (\r\n              <button onClick={() => setOtherCategoiresLink(false)}>\r\n                {/* Other Categories */}\r\n              </button>\r\n            ) : (\r\n              <button onClick={() => setOtherCategoiresLink(true)}>\r\n                {/* Back */}\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"popup__btn-next\">\r\n            <button\r\n              className=\"btn-primary\"\r\n              disabled={DataToSend.length === 0 ? true : false}\r\n              onClick={() => {\r\n                history.push(\"/tradie-popup-step3\");\r\n              }}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\nexport default Pop2;\r\n"]},"metadata":{},"sourceType":"module"}